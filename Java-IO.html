<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Java 中的 IO 流 - 何年の再遇见</title>


    <meta name="description" content="内容概要：  File-类 递归 IO-流概述">
<meta property="og:type" content="article">
<meta property="og:title" content="Java 中的 IO 流">
<meta property="og:url" content="https://guoshizhan.github.io/Java-IO.html">
<meta property="og:site_name" content="何年の再遇见">
<meta property="og:description" content="内容概要：  File-类 递归 IO-流概述">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://guoshizhan.github.io/gallery/Java-Study/JavaSE-000.jpg">
<meta property="article:published_time" content="2020-04-16T14:12:06.000Z">
<meta property="article:modified_time" content="2020-05-16T08:44:47.985Z">
<meta property="article:author" content="Java Developer">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="IO 流">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://guoshizhan.github.io/gallery/Java-Study/JavaSE-000.jpg">







<link rel="icon" href="/images/favicon.ico">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/GSZ's-Blog.png" alt="Java 中的 IO 流" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">首页</a>
                
                <a class="navbar-item"
                href="/archives">归档</a>
                
                <a class="navbar-item"
                href="/categories">分类</a>
                
                <a class="navbar-item"
                href="/tags">标签</a>
                
                <a class="navbar-item"
                href="/friends">友链</a>
                
                <a class="navbar-item"
                href="/albums">相册</a>
                
                <a class="navbar-item"
                href="/media">影音</a>
                
                <a class="navbar-item"
                href="/inspiration">随笔</a>
                
                <a class="navbar-item"
                href="/secret">私密</a>
                
                <a class="navbar-item"
                href="/about">关于</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" rel="noopener" title="MyGitHub" href="https://github.com/guoshizhan">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-9-desktop is-9-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-image">
        <span  class="image is-7by1">
            <img class="thumbnail" src="/../gallery/Java-Study/JavaSE-000.jpg" alt="Java 中的 IO 流">
        </span>
    </div>
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                
                <time class="level-item has-text-grey" datetime="2020-04-16T14:12:06.000Z">2020-04-16</time>
                
                    <span class="display-none-class"></span>
                    <img class="not-gallery-item" src="/images/chat.svg">&nbsp;<a href="/Java-IO.html#comment-container"><span></span></a>&nbsp;&nbsp;&nbsp;&nbsp;</img>
                
                
                <div class="level-item">
                <i class="fas fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/Java%E5%AD%A6%E4%B9%A0/">Java学习</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 小时 读完 (大约 19789 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                Java 中的 IO 流
            
        </h1>
        <div class="content">
            <hr>
<p><font color=blue>内容概要：</font></p>
<ul>
<li><a href="#File-类">File-类</a></li>
<li><a href="#递归">递归</a></li>
<li><a href="#IO-流概述">IO-流概述</a><a id="more"></a></li>
<li><a href="#字节流">字节流</a></li>
<li><a href="#字符流">字符流</a></li>
<li><a href="#IO-异常的处理">IO-异常的处理</a></li>
<li><a href="#Properties-属性集">Properties-属性集</a></li>
<li><a href="#缓冲流">缓冲流</a></li>
<li><a href="#转换流">转换流</a></li>
<li><a href="#序列化流">序列化流</a></li>
<li><a href="#打印流">打印流</a></li>
</ul>
<h1 id="File-类"><a href="#File-类" class="headerlink" title="File 类"></a>File 类</h1><h2 id="File-概述"><a href="#File-概述" class="headerlink" title="File 概述"></a>File 概述</h2><p><code>java.io.File</code> 类是文件和目录路径名的抽象表示，主要用于文件和目录的创建、查找和删除等操作。具体功能如下：</p>
<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>具体功能：</span>
    </div>
    <div class="block">
        创建一个文件/文件夹
        删除文件/文件夹
        获取文件/文件夹
        判断文件/文件夹是否存在
        对文件夹进行遍历
        获取文件的大小
    </div>
</div>

<p>输出路径分隔符和文件名称分隔符的代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 01-路径分隔符【例如环境变量里的分隔符】 windows系统使用“分号”，linux系统使用“冒号”</span></span><br><span class="line">    String pathSeparator = File.pathSeparator;</span><br><span class="line">    System.out.println(pathSeparator);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> pathSeparatorChar = File.pathSeparatorChar;</span><br><span class="line">    System.out.println(pathSeparatorChar);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-文件名称分隔符  windows系统使用反斜杠\  linux系统使用正斜杠/</span></span><br><span class="line">    String separator = File.separator;</span><br><span class="line">    System.out.println(separator);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> separatorChar = File.separatorChar;</span><br><span class="line">    System.out.println(separatorChar);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h2><div class="yellow">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        public File(String pathname) ：通过将给定的路径名字符串转换为抽象路径名来创建新的 File 实例。  
        public File(String parent, String child) ：从父路径名字符串和子路径名字符串创建新的 File 实例。
        public File(File parent, String child) ：从父抽象路径名和子路径名字符串创建新的 File 实例。  
    </div>
</div>

<p>构造方法代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 01-public File(String pathname)</span></span><br><span class="line">    File file01 = <span class="keyword">new</span> File(<span class="string">"F:\\00-BLOG-HOME\\themes\\icarus-latest\\layout\\widget"</span>);</span><br><span class="line">    System.out.println(file01);    <span class="comment">// 重写了 toString 方法，否则会打印内存地址</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-public File(String parent, String child)</span></span><br><span class="line">    File file02 = <span class="keyword">new</span> File(<span class="string">"F:\\"</span>, <span class="string">"00-BLOG-HOME"</span>);</span><br><span class="line">    System.out.println(file02);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-public File(File parent, String child)</span></span><br><span class="line">    File parent = <span class="keyword">new</span> File(<span class="string">"F:\\"</span>);</span><br><span class="line">    File file03 = <span class="keyword">new</span> File(parent, <span class="string">"00-BLOG-HOME"</span>);</span><br><span class="line">    System.out.println(file03);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code> 一个 File 对象代表硬盘中实际存在的一个文件或者目录，无论该路径下是否存在文件或者目录，都不影响 File 对象的创建。</p>
</blockquote>
<h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h2><h3 id="获取功能的方法"><a href="#获取功能的方法" class="headerlink" title="获取功能的方法"></a>获取功能的方法</h3><div class="green">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>获取功能的方法</span>
    </div>
    <div class="block">
        public String getAbsolutePath() ：返回此 File 的绝对路径名字符串。
        public String getPath() ：将此 File 转换为路径名字符串。 
        public String getName() ：返回由此 File 表示的文件或目录的名称。  
        public long length() ：返回由此 File 表示的文件的长度。 
    </div>
</div>

<p>方法演示，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 01-public String getAbsolutePath()</span></span><br><span class="line">    File file01 = <span class="keyword">new</span> File(<span class="string">"F:\\00-BLOG-HOME\\themes\\icarus-latest\\layout\\widget"</span>);</span><br><span class="line">    System.out.println(file01.getAbsolutePath());</span><br><span class="line"></span><br><span class="line">    File file02 = <span class="keyword">new</span> File(<span class="string">"00-BLOG-HOME"</span>);</span><br><span class="line">    System.out.println(file02.getAbsolutePath());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-public String getPath()</span></span><br><span class="line">    System.out.println(file01.getPath());</span><br><span class="line">    System.out.println(file02.getPath());</span><br><span class="line"></span><br><span class="line">    System.out.println(file01);</span><br><span class="line">    System.out.println(file01.toString());   <span class="comment">// 看源码知：toString 调用的就是 getPath() 方法</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-public String getName() ，获取的就是构造方法传递路径的结尾部分(文件/文件夹)</span></span><br><span class="line">    System.out.println(file01.getName());</span><br><span class="line">    System.out.println(file02.getName());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 04-public long length()  ：返回由此 File 表示的文件的长度。获取的是构造方法指定的文件的大小,以字节为单位。</span></span><br><span class="line"><span class="comment">     * 注意 : 1、文件夹是没有大小概念的,不能获取文件夹的大小。2、如果构造方法中给出的路径不存在,那么length方法返回0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">// 获取文件大小，不存在返回 0</span></span><br><span class="line">    File file04 = <span class="keyword">new</span> File(<span class="string">"F:\\00-BLOG-HOME\\source\\about\\index.md"</span>);</span><br><span class="line">    System.out.println(file04.length());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取文件夹大小，直接返回 0 ，因为文件夹没有大小，只有文件有大小</span></span><br><span class="line">    File file05 = <span class="keyword">new</span> File(<span class="string">"F:\\00-BLOG-HOME\\source\\about"</span>);</span><br><span class="line">    System.out.println(file05.length());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="判断功能的方法"><a href="#判断功能的方法" class="headerlink" title="判断功能的方法"></a>判断功能的方法</h3><div class="red">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>判断功能的方法</span>
    </div>
    <div class="block">
        public boolean exists() ：此 File 表示的文件或目录是否实际存在。
        public boolean isDirectory() ：此 File 表示的是否为目录。
        public boolean isFile() ：此 File 表示的是否为文件。
    </div>
</div>

<p>方法演示，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 01-public boolean exists() ：用于判断构造方法中的路径是否存在</span></span><br><span class="line">    File file01 = <span class="keyword">new</span> File(<span class="string">"F:\\00-BLOG-HOME\\themes\\icarus-latest\\layout\\widget"</span>);</span><br><span class="line">    System.out.println(file01.exists());</span><br><span class="line"></span><br><span class="line">    File file02 = <span class="keyword">new</span> File(<span class="string">"00-BLOG-HOME"</span>);</span><br><span class="line">    System.out.println(file02.exists());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 02-public boolean isDirectory() ：用于判断构造方法中给定的路径是否以文件夹结尾</span></span><br><span class="line"><span class="comment">     * 03-public boolean isFile() ：用于判断构造方法中给定的路径是否以文件结尾</span></span><br><span class="line"><span class="comment">     * 注意 : 1、电脑的硬盘中只有文件/文件夹,两个方法是互斥。2、这两个方法使用前提,路径必须是存在的,否则都返回 false</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">if</span>(file01.exists())&#123;</span><br><span class="line">        System.out.println(file01.isDirectory());</span><br><span class="line">        System.out.println(file01.isFile());</span><br><span class="line"></span><br><span class="line">        System.out.println(file02.isDirectory());</span><br><span class="line">        System.out.println(file02.isFile());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="创建和删除功能的方法"><a href="#创建和删除功能的方法" class="headerlink" title="创建和删除功能的方法"></a>创建和删除功能的方法</h3><div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>创建和删除功能的方法</span>
    </div>
    <div class="block">
        public boolean createNewFile() ：当且仅当具有该名称的文件尚不存在时，创建一个新的空文件。 
        public boolean delete() ：删除由此 File 表示的文件或目录。  
        public boolean mkdir() ：创建由此 File 表示的目录。
        public boolean mkdirs() ：创建由此 File 表示的目录，包括任何必需但不存在的父目录。
    </div>
</div>

<p>方法演示，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">//demo01();</span></span><br><span class="line">    <span class="comment">//demo02();</span></span><br><span class="line">    <span class="comment">//demo03();</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">demo03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 04-public boolean delete() ：可以删除构造方法路径中给出的文件/文件夹</span></span><br><span class="line">    <span class="comment">// 注意：文件/文件夹删除成功,返回 true 。2、文件夹中有内容,不会删除返回 false ; 构造方法中路径不存在 false 。</span></span><br><span class="line">    <span class="comment">// 注意：delete 方法是直接在硬盘删除文件/文件夹,不走回收站,删除要谨慎。</span></span><br><span class="line">    File file05 = <span class="keyword">new</span> File(<span class="string">"F:\\home\\111"</span>);</span><br><span class="line">    System.out.println(file05.delete());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">demo02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 02-public boolean mkdir() ：创建单级空文件夹</span></span><br><span class="line">    File file03 = <span class="keyword">new</span> File(<span class="string">"F:\\home\\啊啊啊"</span>);</span><br><span class="line">    System.out.println(file03.mkdir());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-public boolean mkdirs() ：既可以创建单级空文件夹,也可以创建多级文件夹，创建文件夹的路径和名称在构造方法中给出(构造方法的参数)</span></span><br><span class="line">    File file04 = <span class="keyword">new</span> File(<span class="string">"F:\\home\\111\\啊啊啊"</span>);</span><br><span class="line">    System.out.println(file04.mkdirs());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 注意 : 1.此方法只能创建文件夹,不能创建文件。2、文件夹不存在,创建文件夹,返回 true 。</span></span><br><span class="line">    <span class="comment">// 3、文件夹存在,不会创建,返回 false;构造方法中给出的路径不存在返回 false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">demo01</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 01-public boolean createNewFile() ：当且仅当具有该名称的文件尚不存在时，创建一个新的空文件。创建文件的路径和名称在构造方法中给出(构造方法的参数)</span></span><br><span class="line">    <span class="comment">// 注意 : 1、此方法只能创建文件,不能创建文件夹。2、创建文件的路径必须存在,否则会抛出异常。3、文件不存在,创建文件,返回 true ，文件存在,不会创建,返回 false 。</span></span><br><span class="line">    File file01 = <span class="keyword">new</span> File(<span class="string">"F:\\home\\01.txt"</span>);</span><br><span class="line">    System.out.println(file01.createNewFile());</span><br><span class="line"></span><br><span class="line">    File file02 = <span class="keyword">new</span> File(<span class="string">"F:\\blog-home\\01.txt"</span>);</span><br><span class="line">    System.out.println(file02.createNewFile());    <span class="comment">// 路径不存在，抛异常：java.io.IOException: 系统找不到指定的路径。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="目录的遍历"><a href="#目录的遍历" class="headerlink" title="目录的遍历"></a>目录的遍历</h2><p>详情看代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 01-public String[] list() ：返回一个 String 数组，表示该 File 目录中的所有子文件或目录。</span></span><br><span class="line">    File file01 = <span class="keyword">new</span> File(<span class="string">"F:\\home"</span>);</span><br><span class="line">    String[] list = file01.list();</span><br><span class="line">    <span class="keyword">for</span> (String str : list) &#123;</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-public File[] listFiles() ：返回一个 File 数组，表示该 File 目录中的所有的子文件或目录。</span></span><br><span class="line">    File file02 = <span class="keyword">new</span> File(<span class="string">"F:\\home"</span>);</span><br><span class="line">    File[] listFiles = file02.listFiles();</span><br><span class="line">    <span class="keyword">for</span> (File file : listFiles) &#123;</span><br><span class="line">        System.out.println(file);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-注意事项：</span></span><br><span class="line">    <span class="comment">// 1、list 方法和 listFiles 方法遍历的是构造方法中给出的目录，如果构造方法中给出的目录的路径不存在,会抛出空指针异常。</span></span><br><span class="line">    <span class="comment">// 2、如果构造方法中给出的路径不是一个目录,也会抛出空指针异常。</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>调用 listFiles 方法的 File 对象，表示的必须是实际存在的目录，否则返回 null，无法进行遍历。</p>
</blockquote>
<h1 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h1><h2 id="递归概述"><a href="#递归概述" class="headerlink" title="递归概述"></a>递归概述</h2><blockquote>
<p><code>递归:</code> 指在当前方法内调用自己的这种现象。<br><code>递归的分类:</code> 递归分为两种，直接递归和间接递归。<br><code>直接递归:</code> 方法自身调用自己。<br><code>间接递归:</code> 可以理解为 A 方法调用 B 方法，B 方法调用 C 方法，C 方法调用 A 方法。<br><code>注意事项：</code><br>1、递归一定要有条件限定，保证递归能够停止下来，否则会发生栈内存溢出。<br>2、在递归中虽然有限定条件，但是递归次数不能太多。否则也会发生栈内存溢出。<br>3、构造方法,禁止递归。</p>
</blockquote>
<p>递归分析图解：</p>
<p><img src="../gallery/Java-Study/JavaSE-03/014.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    recursion(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">recursion</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 添加一个递归结束的条件，i == 500 的时候结束</span></span><br><span class="line">    <span class="comment">// 如果此递归没有结束条件，会报异常：Exception in thread "main" java.lang.StackOverflowError</span></span><br><span class="line">    <span class="keyword">if</span>(i &gt; <span class="number">500</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span>;    <span class="comment">// 结束方法</span></span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">    recursion(++i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="递归累加求和"><a href="#递归累加求和" class="headerlink" title="递归累加求和"></a>递归累加求和</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = sum(<span class="number">100</span>);</span><br><span class="line">    System.out.println(sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n + sum(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="递归求阶乘"><a href="#递归求阶乘" class="headerlink" title="递归求阶乘"></a>递归求阶乘</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> mul = mul(<span class="number">10</span>);</span><br><span class="line">        System.out.println(mul);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">mul</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n * mul(n - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="递归打印多级目录"><a href="#递归打印多级目录" class="headerlink" title="递归打印多级目录"></a>递归打印多级目录</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个变量，记录文件数目</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"F:\\home"</span>);</span><br><span class="line">    getFiles(file);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getFiles</span><span class="params">(File file)</span></span>&#123;</span><br><span class="line">    File[] list = file.listFiles();</span><br><span class="line">    <span class="keyword">for</span> (File s : list) &#123;</span><br><span class="line">        <span class="keyword">if</span>(s.isDirectory())&#123;</span><br><span class="line">            getFiles(s);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">        System.out.println(++count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="文件搜索"><a href="#文件搜索" class="headerlink" title="文件搜索"></a>文件搜索</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 定义一个变量，记录文件数目</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"F:\\home"</span>);</span><br><span class="line">    getFiles(file);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getFiles</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">    File[] list = file.listFiles();</span><br><span class="line">    <span class="keyword">for</span> (File s : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.isDirectory()) &#123;</span><br><span class="line">            getFiles(s);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.toString().endsWith(<span class="string">".xml"</span>)) &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">                System.out.println(++count);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="文件搜索之过滤器"><a href="#文件搜索之过滤器" class="headerlink" title="文件搜索之过滤器"></a>文件搜索之过滤器</h2><div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>文件过滤器：</span>
    </div>
    <div class="block">
        1、java.io.FileFilter 是一个接口，是 File 的过滤器。该接口的对象可以传递给 File 类的 listFiles(FileFilter) 作为参数。
        2、接口中只有一个方法 boolean accept(File pathname) ，测试 pathname 是否应该包含在当前 File 目录中，符合则返回 true。
    </div>
</div>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个变量，记录文件数目</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"F:\\home"</span>);</span><br><span class="line">    getFiles(file);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getFiles</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">    File[] list = file.listFiles(<span class="keyword">new</span> FileFilter() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File pathname)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(pathname.isDirectory())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> pathname.getName().toLowerCase().endsWith(<span class="string">".xml"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span> (File s : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.isDirectory()) &#123;</span><br><span class="line">            getFiles(s);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.toString().endsWith(<span class="string">".xml"</span>)) &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">                System.out.println(++count);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="过滤器之-Lambda-优化"><a href="#过滤器之-Lambda-优化" class="headerlink" title="过滤器之 Lambda 优化"></a>过滤器之 Lambda 优化</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 定义一个变量，记录文件数目</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"F:\\home"</span>);</span><br><span class="line">    getFiles(file);</span><br><span class="line">    System.out.println(<span class="string">"\n匹配到的合适的文件个数："</span> + count + <span class="string">"个"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getFiles</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 使用 Lambda 表达式优化了匿名内部类</span></span><br><span class="line">    File[] list = file.listFiles(pathname-&gt; pathname.isDirectory() || pathname.getName().toLowerCase().endsWith(<span class="string">".xml"</span>));</span><br><span class="line">    <span class="keyword">for</span> (File s : list) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.isDirectory()) &#123;</span><br><span class="line">            getFiles(s);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.toString().endsWith(<span class="string">".xml"</span>)) &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="IO-流概述"><a href="#IO-流概述" class="headerlink" title="IO 流概述"></a>IO 流概述</h1><h2 id="什么是-IO-流"><a href="#什么是-IO-流" class="headerlink" title="什么是 IO 流"></a>什么是 IO 流</h2><p>当你电脑上插入一个U盘，可以把一个视频，拷贝到你的电脑硬盘里。我们把这种数据的传输，可以看做是一种数据的流动，称之为 <code>IO 流</code> 。按照流动的方向，以内存为基准，分为 <code>输入流 input</code> 和 <code>输出流 output</code> ，即流向内存是输入流，流出内存的输出流。如下草图：</p>
<p><img src="../gallery/Java-Study/JavaSE-03/009.bmp" alt=""></p>
<p>Java 中 IO 操作主要是指使用 <code>java.io</code> 包下的内容所进行的输入、输出操作。<strong>输入</strong> 也叫做读取数据，<strong>输出</strong> 也叫做作写出数据。</p>
<h2 id="IO-流的分类"><a href="#IO-流的分类" class="headerlink" title="IO 流的分类"></a>IO 流的分类</h2><div class="green">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>根据数据的流向分：</span>
    </div>
    <div class="block">
        输入流 ：把数据从其他设备上读取到内存中的流。 
        输出流 ：把数据从内存中写出到其他设备上的流。
    </div>
</div>

<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>根据数据的类型分：</span>
    </div>
    <div class="block">
        字节流 ：以字节为单位，读写数据的流。
        字符流 ：以字符为单位，读写数据的流。
    </div>
</div>

<p>根据分类不同，IO 流所对应的类也有所不同，如下表：</p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"><strong>输入流</strong></th>
<th align="center">输出流</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>字节流</strong></td>
<td align="center">字节输入流<br /><strong>InputStream</strong></td>
<td align="center">字节输出流<br /><strong>OutputStream</strong></td>
</tr>
<tr>
<td align="center"><strong>字符流</strong></td>
<td align="center">字符输入流<br /><strong>Reader</strong></td>
<td align="center">字符输出流<br /><strong>Writer</strong></td>
</tr>
</tbody></table>
<blockquote>
<p>IO 流的简单介绍就到这里了，下面将详细介绍 Java 中的 IO 流。请往下阅读 👇👇👇</p>
</blockquote>
<h1 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h1><h2 id="一切皆为字节"><a href="#一切皆为字节" class="headerlink" title="一切皆为字节"></a>一切皆为字节</h2><p>一切文件数据(文本、图片、视频等)在存储时，都是以二进制数字的形式保存，都是一个一个的字节，那么在传输时一样如此。所以，字节流可以传输任意文件数据。在操作流的时候，我们要时刻明确，无论使用什么样的流对象，底层传输的始终为二进制数据。</p>
<h2 id="字节输出流"><a href="#字节输出流" class="headerlink" title="字节输出流"></a>字节输出流</h2><p><code>java.io.OutputStream</code> 抽象类是表示字节输出流的所有类的超类，将指定的字节信息写出到目的地。</p>
<div class="red">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>字节输出流的通用方法：</span>
    </div>
    <div class="block">
        public void close() ：关闭此输出流并释放与此流相关联的任何系统资源。  
        public void flush() ：刷新此输出流并强制任何缓冲的输出字节被写出。  
        public void write(byte[] b) ：将 b.length 字节从指定的字节数组写入此输出流。  
        public void write(byte[] b, int off, int len) ：从指定的字节数组写入 len 字节，从偏移量 off 开始输出到此输出流。  
        public abstract void write(int b) ：将指定的字节输出流。
    </div>
</div>

<h2 id="FileOutputStream-类"><a href="#FileOutputStream-类" class="headerlink" title="FileOutputStream 类"></a>FileOutputStream 类</h2><p><code>OutputStream</code> 有很多子类，我们从最简单的一个子类 <code>java.io.FileOutputStream</code> 开始。这个类是文件输出流，用于将数据写出到文件，也就是从内存把数据写出到硬盘上。</p>
<div class="red">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>写出数据的原理(内存 --> 硬盘): </span>
    </div>
    <div class="block">
        java 程序 --> JVM(java 虚拟机) --> OS(操作系统) --> OS 调用写数据的方法 --> 把数据写入到文件中
    </div>
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>字节输出流的使用步骤(重点): </span>
    </div>
    <div class="block">
        1、创建一个 FileOutputStream 对象,构造方法中传递写入数据的目的地
        2、调用 FileOutputStream 对象中的方法 write ,把数据写入到文件中
        3、释放资源(IO 流操作会占用一定的内存,使用完毕要把内存清空,提供程序的效率)
    </div>
</div>

<h3 id="构造方法-1"><a href="#构造方法-1" class="headerlink" title="构造方法"></a>构造方法</h3><div class="yellow">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        public FileOutputStream(File file) ： 创建文件输出流以写入由指定的 File 对象表示的文件。 
        public FileOutputStream(String name) ： 创建文件输出流以指定的名称写入文件。  
    </div>
</div>

<p>当你创建一个流对象时，必须传入一个文件路径。该路径下，如果没有这个文件，会创建该文件。如果有这个文件，会清空这个文件的数据。上述两种构造方法举例，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">// 01-创建文件对象</span></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"F:\\home\\02.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-创建输出流对象的第一种构造方法</span></span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-创建输出流对象的第二种构造方法</span></span><br><span class="line">    FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\03.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 04-关闭流</span></span><br><span class="line">    fileOutputStream.close();</span><br><span class="line">    fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="写出字节数据"><a href="#写出字节数据" class="headerlink" title="写出字节数据"></a>写出字节数据</h3><p>通过 <code>write(int b)</code> 方法，每次可以写出一个字节数据，代码使用演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 01-使用文件名称创建流对象</span></span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\fos.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-写出数据</span></span><br><span class="line">    fos.write(<span class="number">97</span>);    <span class="comment">// 写出第1个字节</span></span><br><span class="line">    fos.write(<span class="number">98</span>);    <span class="comment">// 写出第2个字节</span></span><br><span class="line">    fos.write(<span class="number">99</span>);    <span class="comment">// 写出第3个字节</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-关闭资源</span></span><br><span class="line">    fos.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果 ：abc</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code></p>
<p>1、虽然参数为 int 类型四个字节，但是只会保留一个字节的信息写出。<br>2、流操作完毕后，必须释放系统资源，调用 close 方法，千万记得。</p>
</blockquote>
<h3 id="写出字节数组"><a href="#写出字节数组" class="headerlink" title="写出字节数组"></a>写出字节数组</h3><p>通过 <code>write(byte[] b)</code> 方法，每次可以写出数组中的数据，代码使用演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 一次写多个字节的方法:</span></span><br><span class="line"><span class="comment">     * public void write(byte[] b)：将 b.length 字节从指定的字节数组写入此输出流。</span></span><br><span class="line"><span class="comment">     * public void write(byte[] b, int off, int len) ：从指定的字节数组写入 len 字节，从偏移量 off 开始输出到此输出流。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    FileOutputStream fileOutputStream = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\03.txt"</span>);</span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\04.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 01-如果写的第一个字节是正数(0 —— 127),那么显示的时候会查询 ASCII 表</span></span><br><span class="line">    <span class="keyword">byte</span>[] arr = &#123;<span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>&#125;;    <span class="comment">// ABCDE</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-向文件中写入数据</span></span><br><span class="line">    fileOutputStream.write(arr);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-如果写的第一个字节是负数,那第一个字节会和第二个字节,两个字节组成一个中文显示,查询系统默认码表(GBK)</span></span><br><span class="line">    <span class="keyword">byte</span>[] bytes = &#123;-<span class="number">65</span>, -<span class="number">66</span>, -<span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>&#125;;    <span class="comment">// 烤紻E</span></span><br><span class="line">    fos.write(bytes);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 04-public void write(byte[] b, int off, int len</span></span><br><span class="line">    fos.write(arr, <span class="number">1</span>, <span class="number">2</span>);    <span class="comment">// 04.txt文件中：烤紻EBC</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 05-写入字符串的方法 : 可以使用 String 类中的 getBytes() 方法把字符串,转换为字节数组</span></span><br><span class="line">    <span class="keyword">byte</span>[] str = <span class="string">"你好"</span>.getBytes();</span><br><span class="line">    System.out.println(Arrays.toString(str));    <span class="comment">// [-28, -67, -96, -27, -91, -67]</span></span><br><span class="line">    fos.write(str);    <span class="comment">// 04.txt文件中：烤紻EBC浣犲ソ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 06-关闭流</span></span><br><span class="line">    fileOutputStream.close();</span><br><span class="line">    fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="写出指定长度字节数组"><a href="#写出指定长度字节数组" class="headerlink" title="写出指定长度字节数组"></a>写出指定长度字节数组</h3><p>通过 <code>write(byte[] b, int off, int len)</code> 方法,每次写出从 off 索引开始，len 个字节，代码使用演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\06.txt"</span>);     </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字符串转换为字节数组</span></span><br><span class="line">    <span class="keyword">byte</span>[] b = <span class="string">"abcde"</span>.getBytes();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 写出从索引 2 开始，2 个字节。索引 2 是 c，两个字节，也就是 cd</span></span><br><span class="line">    fos.write(b, <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭资源</span></span><br><span class="line">    fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数据追加续写"><a href="#数据追加续写" class="headerlink" title="数据追加续写"></a>数据追加续写</h3><p>当我们创建输出流对象时，都会清空目标文件中的数据。那么如何保留目标文件中数据，并且还能继续添加新数据呢？使用以下两个构造方法便可以解决我们苦恼的问题。构造方法如下：</p>
<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        public FileOutputStream(File file, boolean append) ： 创建文件输出流以写入由指定的 File 对象表示的文件。  
        public FileOutputStream(String name, boolean append) ： 创建文件输出流以指定的名称写入文件。  
    </div>
</div>

<p>这两个构造方法的参数中，都需要传入一个boolean 类型的值，<code>true</code> 表示追加数据，<code>false</code> 表示清空原有数据。这样创建的输出流对象，就可以指定是否追加续写了。代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 这样创建流对象，可以在 05.txt 文件中追加数据</span></span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\05.txt"</span>，<span class="keyword">true</span>);     </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字符串转换为字节数组</span></span><br><span class="line">    <span class="keyword">byte</span>[] bytes = <span class="string">"abcde"</span>.getBytes();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 写出从索引2开始，2个字节。索引2是c，两个字节，也就是cd。</span></span><br><span class="line">    fos.write(bytes);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭资源</span></span><br><span class="line">    fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="写出换行"><a href="#写出换行" class="headerlink" title="写出换行"></a>写出换行</h3><p>Windows 系统里，换行符号是 <code>\r\n</code> ，代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\05.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义字节数组</span></span><br><span class="line">    <span class="keyword">byte</span>[] words = &#123;<span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>, <span class="number">100</span>, <span class="number">101</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历数组</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.length; i++) &#123;</span><br><span class="line">        <span class="comment">// 写出一个字节</span></span><br><span class="line">        fos.write(words[i]);</span><br><span class="line">        <span class="comment">// 写出一个换行, 换行符号转成数组写出</span></span><br><span class="line">        fos.write(<span class="string">"\r\n"</span>.getBytes());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭资源</span></span><br><span class="line">    fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<div class="hacker">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>回车符和换行符：</span>
    </div>
    <div class="block">
        回车符：回到一行的开头（return）。
        换行符：下一行（newline）。
    </div>
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>各种系统的回车换行：</span>
    </div>
    <div class="block">
        1、Windows 系统里，每行结尾是【回车 + 换行】 ，即 \r\n
        2、Unix/Linux 系统里，每行结尾只有【换行】 ，即 \n
        3、Mac 系统里，每行结尾是【回车】 ，即 \r 。从 Mac OS X 开始与 Linux 统一
    </div>
</div> 

<h2 id="字节输入流"><a href="#字节输入流" class="headerlink" title="字节输入流"></a>字节输入流</h2><p><code>java.io.InputStream</code> 抽象类是表示字节输入流的所有类的超类，可以读取字节信息到内存中。它定义了字节输入流的基本共性功能方法。</p>
<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>基本共性功能方法：</span>
    </div>
    <div class="block">
        public void close() ：关闭此输入流并释放与此流相关联的任何系统资源。    
        public abstract int read()： 从输入流读取数据的下一个字节。 
        public int read(byte[] b)： 从输入流中读取一些字节数，并将它们存储到字节数组 b中 。
    </div>
</div>

<h2 id="FileInputStream-类"><a href="#FileInputStream-类" class="headerlink" title="FileInputStream 类"></a>FileInputStream 类</h2><p><code>java.io.FileInputStream</code> 类是文件输入流，从文件中读取字节。</p>
<div class="hacker">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>读入数据的原理(硬盘-->内存)：</span>
    </div>
    <div class="block">
        java 程序 --> JVM --> OS --> OS读取数据的方法 --> 读取文件
    </div>
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>字节输入流的使用步骤(重点) : </span>
    </div>
    <div class="block">
        1、创建 FileInputStream 对象,构造方法中绑定要读取的数据源
        2、使用 FileInputStream 对象中的方法 read , 读取文件
        3、释放资源
    </div>
</div> 

<h3 id="构造方法-2"><a href="#构造方法-2" class="headerlink" title="构造方法"></a>构造方法</h3><div class="yellow">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        FileInputStream(File file) ： 创建一个 FileInputStream ，该文件由文件系统中的 File 对象 file 命名。 
        FileInputStream(String name) ： 创建一个 FileInputStream ，该文件由文件系统中的路径名 name 命名。 
    </div>
</div> 

<p>当你创建一个流对象时，必须传入一个文件路径。该路径下，如果没有该文件,会抛出 <code>FileNotFoundException</code> 。构造举例，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">    <span class="comment">// 01-使用 File 对象创建流对象</span></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"F:\\home\\05.txt"</span>);</span><br><span class="line">    FileInputStream fos = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 02-使用文件名称创建流对象</span></span><br><span class="line">    FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\06.txt"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 03-关闭资源</span></span><br><span class="line">    fileInputStream.close();</span><br><span class="line">    fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="读取字节数据"><a href="#读取字节数据" class="headerlink" title="读取字节数据"></a>读取字节数据</h3><p>通过 <code>read</code> 方法，每次可以读取一个字节的数据，提升为 int 类型，读取到文件末尾，返回 <code>-1</code> ，代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">// 01-创建输入流对象</span></span><br><span class="line">    FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\04.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-记录读取到的字节</span></span><br><span class="line">    <span class="keyword">int</span> read = fileInputStream.read();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-循环输出内容</span></span><br><span class="line">    <span class="keyword">while</span> (read != -<span class="number">1</span>)&#123;</span><br><span class="line">        System.out.print(read + <span class="string">" "</span>);</span><br><span class="line">        read = fileInputStream.read();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 04-关闭资源</span></span><br><span class="line">    fileInputStream.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code></p>
<p>1、虽然读取了一个字节，但是会自动提升为 int 类型。<br>2、流操作完毕后，必须释放系统资源，调用 close 方法，千万记得。</p>
</blockquote>
<h3 id="使用字节数组读取"><a href="#使用字节数组读取" class="headerlink" title="使用字节数组读取"></a>使用字节数组读取</h3><p>通过 <code>read(byte[] b)</code> ，每次读取 b 个字节到数组中，返回读取到的有效字节个数，读取到末尾时，返回 <code>-1</code> ，代码使用演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">    <span class="comment">// 使用文件名称创建流对象</span></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\06.txt"</span>);    <span class="comment">// 文件中为 abcde</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义变量，作为有效个数</span></span><br><span class="line">    <span class="keyword">int</span> len；</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 定义字节数组，作为装字节数据的容器   </span></span><br><span class="line">    <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">2</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 循环读取</span></span><br><span class="line">    <span class="keyword">while</span> (( len = fis.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">           <span class="comment">// 每次读取后,把数组变成字符串打印</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(b));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 关闭资源</span></span><br><span class="line">    fis.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="comment">// ab</span></span><br><span class="line"><span class="comment">// cd</span></span><br><span class="line"><span class="comment">// ed</span></span><br></pre></td></tr></table></figure>

<p>最后一次读取的 <code>ed</code> 是错误数据 ，原因是：在最后一次读取中，上次读取到的数据 c 被 e 替换了，而 d 没有被替换，只读取一个字节 <code>e</code> ，从而产生了错误。所以要通过 <code>len</code> 来获取有效的字节。代码使用演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 01-使用文件名称创建流对象.</span></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\03.txt"</span>);    <span class="comment">// 文件中为 abcde</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 02-定义变量，作为有效个数</span></span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 03-定义字节数组，作为装字节数据的容器</span></span><br><span class="line">    <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 04-循环读取</span></span><br><span class="line">    <span class="keyword">while</span> ((len = fis.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// 每次读取后,把数组的有效字节部分，变成字符串打印</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(b, <span class="number">0</span>, len));    <span class="comment">// len 每次读取的有效字节个数</span></span><br><span class="line">        System.out.println(len);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 05-关闭资源</span></span><br><span class="line">    fis.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="comment">// abcde</span></span><br><span class="line"><span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code> 使用数组读取，每次读取多个字节，减少了系统间的 IO 操作次数，从而提高了读写的效率，建议开发中使用。</p>
</blockquote>
<h2 id="图片复制练习"><a href="#图片复制练习" class="headerlink" title="图片复制练习"></a>图片复制练习</h2><h3 id="复制原理图解"><a href="#复制原理图解" class="headerlink" title="复制原理图解"></a>复制原理图解</h3><p><img src="../gallery/Java-Study/JavaSE-03/010.bmp" alt=""></p>
<h3 id="案例实现"><a href="#案例实现" class="headerlink" title="案例实现"></a>案例实现</h3><p>复制图片文件，代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建一个字节输入流对象,构造方法中绑定要读取的数据源</span></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\01.png"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、创建一个字节输出流对象,构造方法中绑定要写入的目的地</span></span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\01.png"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 一次读取一个字节写入一个字节的方式</span></span><br><span class="line">    <span class="comment">// 3、使用字节输入流对象中的方法read读取文件</span></span><br><span class="line">    <span class="comment">/*int len = 0;</span></span><br><span class="line"><span class="comment">    while((len = fis.read())!=-1)&#123;</span></span><br><span class="line"><span class="comment">        // 4、使用字节输出流中的方法write,把读取到的字节写入到目的地的文件中</span></span><br><span class="line"><span class="comment">        fos.write(len);</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、使用数组缓冲读取多个字节,写入多个字节</span></span><br><span class="line">    <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span> * <span class="number">8</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、使用字节输入流对象中的方法 read 读取文件</span></span><br><span class="line">    <span class="keyword">int</span> len;    <span class="comment">// 每次读取的有效字节个数</span></span><br><span class="line">    <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// 5、使用字节输出流中的方法 write , 把读取到的字节写入到目的地的文件中</span></span><br><span class="line">        fos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6、释放资源(先关写的,后关闭读的;如果写完了,肯定读取完毕了)</span></span><br><span class="line">    fos.close();</span><br><span class="line">    fis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code> 流的关闭原则：先开后关，后开先关。</p>
</blockquote>
<h1 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h1><p>当使用字节流读取文本文件时，可能会有一个小问题。就是遇到中文字符时，可能不会显示完整的字符，那是因为一个中文字符可能占用多个字节存储。所以 Java 提供一些字符流类，以字符为单位读写数据，专门用于处理文本文件。</p>
<blockquote>
<p>使用字节流读取中文文件,1个中文所占用字节如下：<br><code>GBK:</code> 占用 2 字节<br><code>UTF-8:</code> 占用 3 个字节</p>
</blockquote>
<h2 id="字符输入流"><a href="#字符输入流" class="headerlink" title="字符输入流"></a>字符输入流</h2><p><code>java.io.Reader</code> 抽象类是表示用于读取字符流的所有类的超类，可以读取字符信息到内存中。它定义了字符输入流的基本共性功能方法。</p>
<div class="green">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>基本共性功能方法：</span>
    </div>
    <div class="block">
        public void close() ：关闭此流并释放与此流相关联的任何系统资源。    
        public int read() ： 从输入流读取一个字符。 
        public int read(char[] cbuf) ： 从输入流中读取一些字符，并将它们存储到字符数组 cbuf 中 。
    </div>
</div>

<h2 id="FileReader-类"><a href="#FileReader-类" class="headerlink" title="FileReader 类"></a>FileReader 类</h2><p><code>java.io.FileReader</code> 类是读取字符文件的便利类。构造时使用系统默认的字符编码和默认字节缓冲区。</p>
<blockquote>
<p><code>小贴士：</code></p>
<p><strong>1、字符编码：</strong>字节与字符的对应规则。Windows 系统的中文编码默认是 <code>GBK</code> 编码表。在 IDEA 中是 <code>UTF-8</code> 编码。<br><strong>2、字节缓冲区：</strong>一个字节数组，用来临时存储字节数据。</p>
</blockquote>
<h3 id="构造方法-3"><a href="#构造方法-3" class="headerlink" title="构造方法"></a>构造方法</h3><div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        FileReader(File file) ： 创建一个新的 FileReader ，给定要读取的File对象。   
        FileReader(String fileName) ： 创建一个新的 FileReader ，给定要读取的文件的名称。  
    </div>
</div>

<p>当你创建一个流对象时，必须传入一个文件路径。类似于 FileInputStream 。构造举例，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>  <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">    <span class="comment">// 01-使用 File 对象创建流对象</span></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"F:\\home\\02.txt"</span>);</span><br><span class="line">    FileReader fr = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 02-使用文件名称创建流对象</span></span><br><span class="line">    FileReader fileReader = <span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\03.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-关闭资源</span></span><br><span class="line">    fileReader.close();</span><br><span class="line">    fr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="读取字符数据"><a href="#读取字符数据" class="headerlink" title="读取字符数据"></a>读取字符数据</h3><p>通过 <code>read</code> 方法，每次可以读取一个字符的数据，提升为 int 类型，读取到文件末尾，返回 <code>-1</code> ，循环读取，代码使用演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 使用文件名称创建流对象</span></span><br><span class="line">    FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\02.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义变量，保存数据</span></span><br><span class="line">    <span class="keyword">int</span> b;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 循环读取</span></span><br><span class="line">    <span class="keyword">while</span> ((b = fr.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭资源</span></span><br><span class="line">    fr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code> 虽然读取了一个字符，但是会自动提升为 int 类型。</p>
</blockquote>
<p>通过 <code>read(char[] cbuf)</code> 方法，每次读取 b 个字符到数组中，返回读取到的有效字符个数，读取到末尾时，返回 <code>-1</code> ，代码演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 FileReader 对象,构造方法中绑定要读取的数据源</span></span><br><span class="line">    FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\01.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、int read(char[] cbuf) 一次读取多个字符,将字符读入数组。</span></span><br><span class="line">    <span class="keyword">char</span>[] cs = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">2</span>];    <span class="comment">// 存储读取到的多个字符</span></span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = fr.read(cs)) != -<span class="number">1</span>)&#123;</span><br><span class="line">         <span class="comment">// String类的构造方法：String(char[] value) 把字符数组转换为字符串</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(cs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、释放资源</span></span><br><span class="line">    fr.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="comment">// 我在</span></span><br><span class="line"><span class="comment">// 这里</span></span><br><span class="line"><span class="comment">// 呀里</span></span><br></pre></td></tr></table></figure>
<p>获取有效的字符改进，避免读取到无效的字符，代码使用演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 FileReader 对象,构造方法中绑定要读取的数据源</span></span><br><span class="line">    FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\01.txt"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2、int read(char[] cbuf) 一次读取多个字符,将字符读入数组。</span></span><br><span class="line">    <span class="keyword">char</span>[] cs = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">2</span>];    <span class="comment">// 存储读取到的多个字符</span></span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = fr.read(cs)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">// String(char[] value, int offset, int count) 把字符数组的一部分转换为字符串 offset 数组的开始索引 count 转换的个数</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(cs, <span class="number">0</span>, len));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、关闭资源</span></span><br><span class="line">    fr.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="comment">// 我在</span></span><br><span class="line"><span class="comment">// 这里</span></span><br><span class="line"><span class="comment">// 呀</span></span><br></pre></td></tr></table></figure>

<h2 id="字符输出流"><a href="#字符输出流" class="headerlink" title="字符输出流"></a>字符输出流</h2><p><code>java.io.Writer</code> 抽象类是表示用于写出字符流的所有类的超类，将指定的字符信息写出到目的地。以下是字符输出流的基本共性功能方法。</p>
<div class="red">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>基本共性功能方法：</span>
    </div>
    <div class="block">
        void write(int c) ，写入单个字符。
        void write(char[] cbuf) ，写入字符数组。 
        abstract  void write(char[] cbuf, int off, int len) ，写入字符数组的某一部分,off数组的开始索引,len写的字符个数。<br>
        void write(String str) ，写入字符串。 
        void write(String str, int off, int len) ，写入字符串的某一部分,off字符串的开始索引,len写的字符个数。<br>
        void flush() ，刷新该流的缓冲。  
        void close() ，关闭此流，但要先刷新它。 
    </div>
</div>

<h2 id="FileWriter-类"><a href="#FileWriter-类" class="headerlink" title="FileWriter 类"></a>FileWriter 类</h2><p><code>java.io.FileWriter</code> 类是写出字符到文件的便利类。构造时使用系统默认的字符编码和默认字节缓冲区。</p>
<h3 id="构造方法-4"><a href="#构造方法-4" class="headerlink" title="构造方法"></a>构造方法</h3><div class="yellow">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        FileWriter(File file) ： 创建一个新的 FileWriter，给定要读取的 File 对象。   
        FileWriter(String fileName) ： 创建一个新的 FileWriter，给定要读取的文件的名称。  
    </div>
</div>

<p>当你创建一个流对象时，必须传入一个文件路径，类似于 FileOutputStream 。构造举例，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 使用 File 对象创建流对象</span></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"F:\\home\\05.txt"</span>);</span><br><span class="line">    FileWriter fw = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 使用文件名称创建流对象</span></span><br><span class="line">    FileWriter fileWriter = <span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\06.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-关闭资源</span></span><br><span class="line">    fileWriter.close();</span><br><span class="line">    fw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="基本写出数据"><a href="#基本写出数据" class="headerlink" title="基本写出数据"></a>基本写出数据</h3><p>通过 <code>write(int b)</code> 方法，每次可以写出一个字符数据，代码使用演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 使用文件名称创建流对象</span></span><br><span class="line">    FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\07.txt"</span>);     </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 写出数据</span></span><br><span class="line">    fw.write(<span class="number">97</span>);      <span class="comment">// 写出第1个字符</span></span><br><span class="line">    fw.write(<span class="string">'b'</span>);     <span class="comment">// 写出第2个字符</span></span><br><span class="line">    fw.write(<span class="string">'C'</span>);     <span class="comment">// 写出第3个字符</span></span><br><span class="line">    fw.write(<span class="number">30000</span>);   <span class="comment">// 写出第4个字符，中文编码表中30000对应一个汉字。</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 【注意】关闭资源时,与 FileOutputStream 不同。如果不关闭,数据只是保存到缓冲区，并未保存到文件。</span></span><br><span class="line">    fw.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="comment">// abC田</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code></p>
<p>1、虽然参数为 int 类型四个字节，但是只会保留一个字符的信息写出。<br>2、未调用 close 方法，数据只是保存到了缓冲区，并未写出到文件中。</p>
</blockquote>
<h3 id="关闭和刷新"><a href="#关闭和刷新" class="headerlink" title="关闭和刷新"></a>关闭和刷新</h3><p>因为内置缓冲区的原因，如果不关闭输出流，无法写出字符到文件中。但是关闭的流对象，是无法继续写出数据的。如果我们既想写出数据，又想继续使用流，就需要使用 <code>flush()</code> 方法了。代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * flush 方法和 close 方法的区别：</span></span><br><span class="line"><span class="comment"> * - flush ：刷新缓冲区，流对象可以继续使用。</span></span><br><span class="line"><span class="comment"> * - close ：先刷新缓冲区，然后通知系统释放资源。流对象不可以再被使用了。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 FileWriter 对象,构造方法中绑定要写入数据的目的地</span></span><br><span class="line">    FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\08.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、使用 FileWriter 中的方法 write , 把数据写入到内存缓冲区中(字符转换为字节的过程)</span></span><br><span class="line">    <span class="comment">// void write(int c) 写入单个字符。</span></span><br><span class="line">    fw.write(<span class="number">97</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、使用 FileWriter 中的方法 flush , 把内存缓冲区中的数据,刷新到文件中</span></span><br><span class="line">    fw.flush();</span><br><span class="line">    fw.write(<span class="number">98</span>);    <span class="comment">// 刷新之后流可以继续使用</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、释放资源(会先把内存缓冲区中的数据刷新到文件中)</span></span><br><span class="line">    fw.close();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// close 方法之后流已经关闭了,已经从内存中消失了,流就不能再使用了</span></span><br><span class="line">    fw.write(<span class="number">99</span>);    <span class="comment">// IOException: Stream closed</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code> 即便是 flush 方法写出了数据，操作的最后还是要调用 close 方法，释放系统资源。</p>
</blockquote>
<h3 id="写出其他数据"><a href="#写出其他数据" class="headerlink" title="写出其他数据"></a>写出其他数据</h3><p> <strong>写出字符数组</strong> ：通过 <code>write(char[] cbuf)</code> 方法和 <code>write(char[] cbuf, int off, int len)</code> 方法 ，每次可以写出字符数组中的数据，用法类似于 FileOutputStream ，代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 使用文件名称创建流对象</span></span><br><span class="line">    FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\09.txt"</span>);     </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串转换为字节数组</span></span><br><span class="line">    <span class="keyword">char</span>[] chars = <span class="string">"井冈山大学"</span>.toCharArray();</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 写出字符数组</span></span><br><span class="line">    fw.write(chars);    <span class="comment">// 井冈山大学</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 写出从索引3开始，写2个字节。索引3是'大'，两个字节，也就是 大学</span></span><br><span class="line">    fw.write(b, <span class="number">3</span>, <span class="number">2</span>);    <span class="comment">// 大学</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 关闭资源</span></span><br><span class="line">    fos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>写出字符串</strong>：通过 <code>write(String str)</code> 方法和 <code>write(String str, int off, int len)</code> 方法，每次可以写出字符串中的数据，更为方便，代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 01-使用文件名称创建流对象</span></span><br><span class="line">    FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\10.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-定义字符串</span></span><br><span class="line">    String msg = <span class="string">"井冈山大学"</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 03-写出字符串</span></span><br><span class="line">    fw.write(msg);     <span class="comment">// 井冈山大学</span></span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 04-写出从索引3开始，写2个字节。索引3是'大'，两个字节，也就是 大学</span></span><br><span class="line">    fw.write(msg, <span class="number">3</span>, <span class="number">2</span>);    <span class="comment">// 大学</span></span><br><span class="line">      </span><br><span class="line">    <span class="comment">// 05-关闭资源</span></span><br><span class="line">    fw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数据追加续写-1"><a href="#数据追加续写-1" class="headerlink" title="数据追加续写"></a>数据追加续写</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 01-使用文件名称创建流对象，可以续写数据</span></span><br><span class="line">    FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\11.txt"</span>，<span class="keyword">true</span>);     </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-写出字符串</span></span><br><span class="line">    fw.write(<span class="string">"井冈山"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 03-写出换行</span></span><br><span class="line">    fw.write(<span class="string">"\r\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 04-写出字符串</span></span><br><span class="line">    fw.write(<span class="string">"大学"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 05-关闭资源</span></span><br><span class="line">    fw.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果:</span></span><br><span class="line"><span class="comment">// 井冈山</span></span><br><span class="line"><span class="comment">// 大学</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>小贴士：</code></p>
<p>1、字符流只能操作文本文件，不能操作图片、视频等非文本文件。<br>2、当我们单纯读或者写文本文件时可以使用字符流，其他情况使用字节流。</p>
</blockquote>
<h1 id="IO-异常的处理"><a href="#IO-异常的处理" class="headerlink" title="IO 异常的处理"></a>IO 异常的处理</h1><h2 id="JDK7-前处理"><a href="#JDK7-前处理" class="headerlink" title="JDK7 前处理"></a>JDK7 前处理</h2><p>之前的代码中，我们一直把异常抛出，而实际开发中并不能这样处理，而是建议使用 <code>try...catch...finally</code> 代码块处理异常部分，代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 在jdk1.7之前使用try catch finally 处理流中的异常</span></span><br><span class="line"><span class="comment"> * 格式:</span></span><br><span class="line"><span class="comment"> *    try&#123;</span></span><br><span class="line"><span class="comment"> *        可能会产出异常的代码</span></span><br><span class="line"><span class="comment"> *    &#125;catch(异常类变量 变量名)&#123;</span></span><br><span class="line"><span class="comment"> *        异常的处理逻辑</span></span><br><span class="line"><span class="comment"> *    &#125;finally&#123;</span></span><br><span class="line"><span class="comment"> *        一定会执行的代码</span></span><br><span class="line"><span class="comment"> *        资源释放</span></span><br><span class="line"><span class="comment"> *    &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 提高变量 fw 的作用域,让 finally 可以使用。变量在定义的时候,可以没有值,但是使用的时候必须有值</span></span><br><span class="line">    <span class="comment">// fw = new FileWriter("09_IOAndProperties\\g.txt",true); 执行失败,fw 没有值,fw.close 会报错</span></span><br><span class="line">    FileWriter fw = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="comment">// 可能会产出异常的代码</span></span><br><span class="line">        fw = <span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\11.txt"</span>, <span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span> ; i++) &#123;</span><br><span class="line">            fw.write(<span class="string">"HelloWorld "</span> + i + <span class="string">"\r\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">        <span class="comment">// 异常的处理逻辑</span></span><br><span class="line">        System.out.println(e);</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">// 一定会执行的代码</span></span><br><span class="line">        <span class="comment">// 创建对象失败了,fw的默认值就是 null , null 是不能调用方法的,会抛出 NullPointerException , 需要增加一个判断,不是 null 在把资源释放</span></span><br><span class="line">        <span class="keyword">if</span>(fw != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// fw.close 方法声明抛出了 IOException 异常对象,所以我们就的处理这个异常对象,要么 throws , 要么 try catch</span></span><br><span class="line">                fw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JDK7-的处理"><a href="#JDK7-的处理" class="headerlink" title="JDK7 的处理"></a>JDK7 的处理</h2><p>还可以使用 JDK7 优化后的 <code>try-with-resource</code> 语句，该语句确保了每个资源在语句结束时关闭。所谓的资源（resource）是指在程序完成后，必须关闭的对象。代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * JDK7 的新特性</span></span><br><span class="line"><span class="comment"> * 在try的后边可以增加一个(),在括号中可以定义流对象</span></span><br><span class="line"><span class="comment"> * 那么这个流对象的作用域就在try中有效</span></span><br><span class="line"><span class="comment"> * try中的代码执行完毕,会自动把流对象释放,不用写finally</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span>(<span class="comment">// 1、创建一个字节输入流对象,构造方法中绑定要读取的数据源</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\12.txt"</span>);</span><br><span class="line">        <span class="comment">// 2、创建一个字节输出流对象,构造方法中绑定要写入的目的地</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\13.txt"</span>);)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 可能会产出异常的代码</span></span><br><span class="line">        <span class="comment">// 一次读取一个字节写入一个字节的方式</span></span><br><span class="line">        <span class="comment">// 3、使用字节输入流对象中的方法 read 读取文件</span></span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">// 4、使用字节输出流中的方法 write , 把读取到的字节写入到目的地的文件中</span></span><br><span class="line">            fos.write(len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">        <span class="comment">// 异常的处理逻辑</span></span><br><span class="line">        System.out.println(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="JDK9-的改进"><a href="#JDK9-的改进" class="headerlink" title="JDK9 的改进"></a>JDK9 的改进</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * JDK9 新特性</span></span><br><span class="line"><span class="comment"> * try的前边可以定义流对象</span></span><br><span class="line"><span class="comment"> * 在try后边的()中可以直接引入流对象的名称(变量名)</span></span><br><span class="line"><span class="comment"> * 在try代码执行完毕之后,流对象也可以释放掉,不用写finally</span></span><br><span class="line"><span class="comment"> * 格式:</span></span><br><span class="line"><span class="comment"> *     A a = new A();</span></span><br><span class="line"><span class="comment"> *     B b = new B();</span></span><br><span class="line"><span class="comment"> *     try(a,b)&#123;</span></span><br><span class="line"><span class="comment"> *         可能会产出异常的代码</span></span><br><span class="line"><span class="comment"> *     &#125;catch(异常类变量 变量名)&#123;</span></span><br><span class="line"><span class="comment"> *         异常的处理逻辑</span></span><br><span class="line"><span class="comment"> *     &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建一个字节输入流对象,构造方法中绑定要读取的数据源</span></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\14.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、创建一个字节输出流对象,构造方法中绑定要写入的目的地</span></span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\15.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>(fis; fos)&#123;</span><br><span class="line">        <span class="comment">// 一次读取一个字节写入一个字节的方式</span></span><br><span class="line">        <span class="comment">// 3、使用字节输入流对象中的方法 read 读取文件</span></span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">// 4、使用字节输出流中的方法write,把读取到的字节写入到目的地的文件中</span></span><br><span class="line">            fos.write(len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">        System.out.println(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Properties-属性集"><a href="#Properties-属性集" class="headerlink" title="Properties 属性集"></a>Properties 属性集</h1><h2 id="属性集概述"><a href="#属性集概述" class="headerlink" title="属性集概述"></a>属性集概述</h2><p><code>java.util.Properties</code> 继承于 <strong><em>Hashtable</em></strong> ，来表示一个持久的属性集。它使用键值结构存储数据，每个键及其对应值都是一个字符串。该类也被许多 Java 类使用，比如获取系统属性时，<code>System.getProperties</code> 方法就是返回一个 <strong><em>Properties</em></strong> 对象。</p>
<h2 id="Properties-类"><a href="#Properties-类" class="headerlink" title="Properties 类"></a>Properties 类</h2><h3 id="构造方法和其他方法"><a href="#构造方法和其他方法" class="headerlink" title="构造方法和其他方法"></a>构造方法和其他方法</h3><div class="green">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
       public Properties() : 创建一个空的属性列表。
    </div>
</div>

<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>其他方法：</span>
    </div>
    <div class="block">
        public Object setProperty(String key, String value) ： 保存一对属性。  
        public String getProperty(String key) ：使用此属性列表中指定的键搜索属性值。
        public Set<String> stringPropertyNames() ：所有键的名称的集合。
    </div>
</div>

<p>上述方法代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用Properties 集合存储数据,遍历取出 Properties 集合中的数据。Properties 集合是一个双列集合,key 和 value 默认都是字符串</span></span><br><span class="line"><span class="comment"> *  Properties集合有一些操作字符串的特有方法</span></span><br><span class="line"><span class="comment"> *      Object setProperty(String key, String value) 调用 Hashtable 的方法 put。</span></span><br><span class="line"><span class="comment"> *      String getProperty(String key) 通过 key 找到 value 值,此方法相当于 Map 集合中的 get(key) 方法</span></span><br><span class="line"><span class="comment"> *      Set&lt;String&gt; stringPropertyNames() 返回此属性列表中的键集，其中该键及其对应值是字符串,此方法相当于 Map 集合中的 keySet 方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 01-创建 Properties 集合对象</span></span><br><span class="line">    Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 02-使用 setProperty 往集合中添加数据</span></span><br><span class="line">    prop.setProperty(<span class="string">"赵丽颖"</span>, <span class="string">"168"</span>);</span><br><span class="line">    prop.setProperty(<span class="string">"迪丽热巴"</span>, <span class="string">"165"</span>);</span><br><span class="line">    prop.setProperty(<span class="string">"古力娜扎"</span>, <span class="string">"160"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 03-使用 stringPropertyNames 把 Properties 集合中的键取出,存储到一个 Set 集合中</span></span><br><span class="line">    Set&lt;String&gt; set = prop.stringPropertyNames();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 04-遍历 Set 集合,取出 Properties 集合的每一个键</span></span><br><span class="line">    <span class="keyword">for</span> (String key : set) &#123;</span><br><span class="line">        <span class="comment">// 05-使用 getProperty 方法通过 key 获取 value</span></span><br><span class="line">        String value = prop.getProperty(key);</span><br><span class="line">        System.out.println(key + <span class="string">" = "</span> + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="与流相关的方法"><a href="#与流相关的方法" class="headerlink" title="与流相关的方法"></a>与流相关的方法</h3><p>这是保存的方法，知识点都在代码的注释里面了，请看代码演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 可以使用 Properties 集合中的方法 store,把集合中的临时数据,持久化写入到硬盘中存储</span></span><br><span class="line"><span class="comment"> * void store(OutputStream out, String comments)</span></span><br><span class="line"><span class="comment"> * void store(Writer writer, String comments)</span></span><br><span class="line"><span class="comment"> * 参数:</span></span><br><span class="line"><span class="comment"> * OutputStream out: 字节输出流,不能写入中文</span></span><br><span class="line"><span class="comment"> * Writer writer: 字符输出流,可以写中文</span></span><br><span class="line"><span class="comment"> * String comments: 注释,用来解释说明保存的文件是做什么用的，但是不能使用中文,会产生乱码,默认是 Unicode 编码,一般使用""空字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 Properties 集合对象并添加数据</span></span><br><span class="line">    Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line">    prop.setProperty(<span class="string">"赵丽颖"</span>, <span class="string">"168"</span>);</span><br><span class="line">    prop.setProperty(<span class="string">"迪丽热巴"</span>, <span class="string">"165"</span>);</span><br><span class="line">    prop.setProperty(<span class="string">"古力娜扎"</span>, <span class="string">"175"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、创建字符输出流对象,构造方法中绑定要输出的目的地，不要使用字节输出流，会乱码</span></span><br><span class="line">    FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\14.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、使用 Properties 集合中的方法 store,把集合中的临时数据,持久化写入到硬盘中存储</span></span><br><span class="line">    prop.store(fw,<span class="string">"save my data"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 4、释放资源</span></span><br><span class="line">    fw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这是读取的方法，知识点都在代码的注释里面了，请看代码演示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 可以使用 Properties 集合中的方法 load,把硬盘中保存的文件(键值对),读取到集合中使用</span></span><br><span class="line"><span class="comment"> * void load(InputStream inStream)</span></span><br><span class="line"><span class="comment"> * void load(Reader reader)</span></span><br><span class="line"><span class="comment"> * 参数:</span></span><br><span class="line"><span class="comment"> *     InputStream inStream : 字节输入流,不能读取含有中文的键值对</span></span><br><span class="line"><span class="comment"> *     Reader reader : 字符输入流,能读取含有中文的键值对</span></span><br><span class="line"><span class="comment"> * 注意事项:</span></span><br><span class="line"><span class="comment"> *     1、存储键值对的文件中,键与值默认的连接符号可以使用=,空格(其他符号)</span></span><br><span class="line"><span class="comment"> *     2、存储键值对的文件中,可以使用#进行注释,被注释的键值对不会再被读取</span></span><br><span class="line"><span class="comment"> *     3、存储键值对的文件中,键与值默认都是字符串,不用再加引号</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 Properties 集合对象</span></span><br><span class="line">    Properties prop = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、使用 Properties 集合对象中的方法 load 读取保存键值对的文件</span></span><br><span class="line">    prop.load(<span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\14.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、遍历 Properties 集合</span></span><br><span class="line">    Set&lt;String&gt; set = prop.stringPropertyNames();</span><br><span class="line">    <span class="keyword">for</span> (String key : set) &#123;</span><br><span class="line">        String value = prop.getProperty(key);</span><br><span class="line">        System.out.println(key + <span class="string">" = "</span> + value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>小贴士：文本中的数据，必须是键值对形式，可以使用空格、等号、冒号等符号分隔。</p>
</blockquote>
<h1 id="缓冲流"><a href="#缓冲流" class="headerlink" title="缓冲流"></a>缓冲流</h1><div class="green">
    <div class="general-block">
        上面介绍了基本的一些流，作为 IO 流的入门。现在我们要见识一些更强大的流，比如能够高效读写的缓冲流、能够转换编码的转换流、能够持久化存储对象的序列化流等等。这些功能更为强大的流，都是在基本的流对象基础之上创建而来的，就像穿上铠甲的武士一样，相当于是对基本流对象的一种增强。
    </div>
</div>

<h2 id="缓冲流概述"><a href="#缓冲流概述" class="headerlink" title="缓冲流概述"></a>缓冲流概述</h2><p>缓冲流，也叫高效流，是对 4 个基本的 <code>FileXxx</code> 流的增强。缓冲流的基本原理，是在创建流对象时，会创建一个内置的默认大小的缓冲区数组，通过缓冲区读写，减少系统 IO 操作的次数，从而提高读写的效率。以下是缓冲流的分类：</p>
<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>按照数据类型分类：</span>
    </div>
    <div class="block">
        字节缓冲流：BufferedInputStream 和 BufferedOutputStream
        字符缓冲流：BufferedReader 和 BufferedWriter
    </div>
</div>

<h2 id="字节缓冲流"><a href="#字节缓冲流" class="headerlink" title="字节缓冲流"></a>字节缓冲流</h2><h3 id="构造方法-5"><a href="#构造方法-5" class="headerlink" title="构造方法"></a>构造方法</h3><div class="yellow">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        public BufferedInputStream(InputStream in) ：创建一个新的缓冲输入流。 
        public BufferedOutputStream(OutputStream out) ： 创建一个新的缓冲输出流。
    </div>
</div>

<p>构造方法举例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 01-创建字节缓冲输入流</span></span><br><span class="line">BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\05.txt"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 02-创建字节缓冲输出流</span></span><br><span class="line">BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\05.txt"</span>));</span><br></pre></td></tr></table></figure>

<h3 id="字节缓冲输出流"><a href="#字节缓冲输出流" class="headerlink" title="字节缓冲输出流"></a>字节缓冲输出流</h3><p>字节缓冲输出流【BufferedOutputStream】实际案例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 继承自父类的共性成员方法:</span></span><br><span class="line"><span class="comment"> *     public void close() ：关闭此输出流并释放与此流相关联的任何系统资源。</span></span><br><span class="line"><span class="comment"> *     public void flush() ：刷新此输出流并强制任何缓冲的输出字节被写出。</span></span><br><span class="line"><span class="comment"> *     public void write(byte[] b)：将 b.length字节从指定的字节数组写入此输出流。</span></span><br><span class="line"><span class="comment"> *     public void write(byte[] b, int off, int len) ：从指定的字节数组写入 len字节，从偏移量 off开始输出到此输出流。</span></span><br><span class="line"><span class="comment"> *     public abstract void write(int b) ：将指定的字节输出流。</span></span><br><span class="line"><span class="comment"> *     构造方法:</span></span><br><span class="line"><span class="comment"> *     BufferedOutputStream(OutputStream out)  创建一个新的缓冲输出流，以将数据写入指定的底层输出流。</span></span><br><span class="line"><span class="comment"> *     BufferedOutputStream(OutputStream out, int size)  创建一个新的缓冲输出流，以将具有指定缓冲区大小的数据写入指定的底层输出流。</span></span><br><span class="line"><span class="comment"> *     参数:</span></span><br><span class="line"><span class="comment"> *     OutputStream out:字节输出流，我们可以传递FileOutputStream,缓冲流会给FileOutputStream增加一个缓冲区,提高FileOutputStream的写入效率</span></span><br><span class="line"><span class="comment"> *     int size:指定缓冲流内部缓冲区的大小,不指定默认</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 FileOutputStream 对象,构造方法中绑定要输出的目的地</span></span><br><span class="line">    FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\home\\05.txt"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、创建 BufferedOutputStream 对象,构造方法中传递 FileOutputStream 对象,提高效率</span></span><br><span class="line">    BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、使用 BufferedOutputStream 对象中的方法 write , 把数据写入到内部缓冲区中</span></span><br><span class="line">    bos.write(<span class="string">"井冈山大学"</span>.getBytes());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、使用 BufferedOutputStream 对象中的方法 flush , 把内部缓冲区中的数据,刷新到文件中</span></span><br><span class="line">    bos.flush();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5、释放资源(会先调用 flush 方法刷新数据,第4部可以省略)</span></span><br><span class="line">    bos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字节缓冲输入流"><a href="#字节缓冲输入流" class="headerlink" title="字节缓冲输入流"></a>字节缓冲输入流</h3><p>字节缓冲输入流【BufferedInputStream】实际案例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 继承自父类的成员方法:</span></span><br><span class="line"><span class="comment"> *     int read()从输入流中读取数据的下一个字节。</span></span><br><span class="line"><span class="comment"> *     int read(byte[] b) 从输入流中读取一定数量的字节，并将其存储在缓冲区数组 b 中。</span></span><br><span class="line"><span class="comment"> *     void close() 关闭此输入流并释放与该流关联的所有系统资源。</span></span><br><span class="line"><span class="comment"> *     构造方法:</span></span><br><span class="line"><span class="comment"> *         BufferedInputStream(InputStream in) 创建一个 BufferedInputStream 并保存其参数，即输入流 in，以便将来使用。</span></span><br><span class="line"><span class="comment"> *         BufferedInputStream(InputStream in, int size) 创建具有指定缓冲区大小的 BufferedInputStream 并保存其参数，即输入流 in，以便将来使用。</span></span><br><span class="line"><span class="comment"> *     参数:</span></span><br><span class="line"><span class="comment"> *         InputStream in:字节输入流，我们可以传递FileInputStream,缓冲流会给FileInputStream增加一个缓冲区,提高FileInputStream的读取效率</span></span><br><span class="line"><span class="comment"> *         int size:指定缓冲流内部缓冲区的大小,不指定默认</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 FileInputStream 对象,构造方法中绑定要读取的数据源</span></span><br><span class="line">    FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\05.txt"</span>);</span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 2、创建 BufferedInputStream 对象,构造方法中传递 FileInputStream 对象,提高读取效率</span></span><br><span class="line">    BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 3、使用 BufferedInputStream 对象中的方法 read ,读取文件</span></span><br><span class="line">    <span class="comment">// int read() 从输入流中读取数据的下一个字节，也就是一个字节一个字节地读，效率低</span></span><br><span class="line"><span class="comment">//    int len;    // 记录每次读取到的字节</span></span><br><span class="line"><span class="comment">//    while((len = bis.read()) != -1)&#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(len);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// int read(byte[] b) 从输入流中读取一定数量的字节，并将其存储在缓冲区数组 b 中。</span></span><br><span class="line">    <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span> * <span class="number">8</span>];<span class="comment">//存储每次读取的数据</span></span><br><span class="line">    <span class="keyword">int</span> len;    <span class="comment">// 记录每次读取的有效字节个数</span></span><br><span class="line">    <span class="keyword">while</span> ((len = bis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes, <span class="number">0</span>, len));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、释放资源</span></span><br><span class="line">    bis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="效率测试"><a href="#效率测试" class="headerlink" title="效率测试"></a>效率测试</h3><p>查询 API，缓冲流读写方法与基本的流是一致的。那我们通过复制大文件（229MB），来测试它的效率。</p>
<p>基本流的复制，代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 记录开始时间</span></span><br><span class="line">    <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">    <span class="comment">// 创建流对象</span></span><br><span class="line">    <span class="keyword">try</span> (</span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\01.pdf"</span>);</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\01.pdf"</span>)</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 读写数据</span></span><br><span class="line">        <span class="keyword">int</span> b;</span><br><span class="line">        <span class="keyword">while</span> ((b = fis.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 记录结束时间</span></span><br><span class="line">    <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">"普通流复制时间: "</span> + (end - start) + <span class="string">" 毫秒"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通流复制时间: 1278098 毫秒</span></span><br></pre></td></tr></table></figure>

<p>缓冲流的复制，代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 记录开始时间</span></span><br><span class="line">    <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">    <span class="comment">// 创建流对象</span></span><br><span class="line">    <span class="keyword">try</span> (</span><br><span class="line">            BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\01.pdf"</span>));</span><br><span class="line">            BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\01.pdf"</span>))</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 读写数据</span></span><br><span class="line">        <span class="keyword">int</span> b;</span><br><span class="line">        <span class="keyword">while</span> ((b = bis.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            bos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 记录结束时间</span></span><br><span class="line">    <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">"缓冲流复制时间: "</span> + (end - start) + <span class="string">" 毫秒"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 缓冲流复制时间: 10480 毫秒</span></span><br></pre></td></tr></table></figure>

<p>那么如何做才能更快呢？答案是：使用数组的方式，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 记录开始时间</span></span><br><span class="line">    <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line">    <span class="comment">// 创建流对象</span></span><br><span class="line">    <span class="keyword">try</span> (</span><br><span class="line">            BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\home\\01.pdf"</span>));</span><br><span class="line">            BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\02.pdf"</span>))</span><br><span class="line">    ) &#123;</span><br><span class="line">        <span class="comment">// 读写数据</span></span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">8</span> * <span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((len = bis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            bos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 记录结束时间</span></span><br><span class="line">    <span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">"缓冲流使用数组复制时间: "</span> + (end - start) + <span class="string">" 毫秒"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 缓冲流使用数组复制时间: 566 毫秒</span></span><br></pre></td></tr></table></figure>

<h2 id="字符缓冲流"><a href="#字符缓冲流" class="headerlink" title="字符缓冲流"></a>字符缓冲流</h2><h3 id="构造方法-6"><a href="#构造方法-6" class="headerlink" title="构造方法"></a>构造方法</h3><div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        public BufferedReader(Reader in) ：创建一个新的缓冲输入流。 
        public BufferedWriter(Writer out) ： 创建一个新的缓冲输出流。
    </div>
</div>


<p>构造方法举例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 01-创建字符缓冲输入流</span></span><br><span class="line">BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\05.txt"</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 02-创建字符缓冲输出流</span></span><br><span class="line">BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\05.txt"</span>));</span><br></pre></td></tr></table></figure>

<h3 id="特有方法"><a href="#特有方法" class="headerlink" title="特有方法"></a>特有方法</h3><p>字符缓冲流的基本方法与普通字符流调用方式一致，不再阐述，我们来看它们具备的特有方法。</p>
<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>特有方法：</span>
    </div>
    <div class="block">
        BufferedReader：public String readLine() : 读一行文字。 
        BufferedWriter：public void newLine() : 相当于换行分隔符,由系统属性定义符号。 
    </div>
</div>


<p><code>public String readLine()</code> 方法演示，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 创建流对象</span></span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\05.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定义字符串,保存读取的一行文字</span></span><br><span class="line">    String line;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 循环读取,读取到最后返回 null</span></span><br><span class="line">    <span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        System.out.print(line);</span><br><span class="line">        System.out.println(<span class="string">"---"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 释放资源</span></span><br><span class="line">    br.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>public void newLine()</code> 方法演示，代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException  </span>&#123;</span><br><span class="line">    <span class="comment">// 创建流对象</span></span><br><span class="line">    BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\edu.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 写出数据</span></span><br><span class="line">    bw.write(<span class="string">"井冈山"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 写出换行</span></span><br><span class="line">    bw.newLine();</span><br><span class="line">    bw.write(<span class="string">"大学"</span>);</span><br><span class="line">    bw.newLine();</span><br><span class="line">    bw.write(<span class="string">"欢迎你"</span>);</span><br><span class="line">    bw.newLine();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 释放资源</span></span><br><span class="line">    bw.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出效果:</span></span><br><span class="line"><span class="comment">// 井冈山</span></span><br><span class="line"><span class="comment">// 大学</span></span><br><span class="line"><span class="comment">// 欢迎你</span></span><br></pre></td></tr></table></figure>

<h3 id="字符缓冲输出流"><a href="#字符缓冲输出流" class="headerlink" title="字符缓冲输出流"></a>字符缓冲输出流</h3><p>字符缓冲输出流【BufferedWriter】实际案例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 继承自父类的共性成员方法:</span></span><br><span class="line"><span class="comment"> *    void write(int c) 写入单个字符。</span></span><br><span class="line"><span class="comment"> *    void write(char[] cbuf)写入字符数组。</span></span><br><span class="line"><span class="comment"> *    abstract void write(char[] cbuf, int off, int len)写入字符数组的某一部分, off 数组的开始索引, len 写的字符个数。</span></span><br><span class="line"><span class="comment"> *    void write(String str)写入字符串。</span></span><br><span class="line"><span class="comment"> *    void write(String str, int off, int len) 写入字符串的某一部分,off 字符串的开始索引, len 写的字符个数。</span></span><br><span class="line"><span class="comment"> *    void flush()刷新该流的缓冲。</span></span><br><span class="line"><span class="comment"> *    void close() 关闭此流，但要先刷新它。</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *     构造方法:</span></span><br><span class="line"><span class="comment"> *         BufferedWriter(Writer out) 创建一个使用默认大小输出缓冲区的缓冲字符输出流。</span></span><br><span class="line"><span class="comment"> *         BufferedWriter(Writer out, int sz) 创建一个使用给定大小输出缓冲区的新缓冲字符输出流。</span></span><br><span class="line"><span class="comment"> *         参数:</span></span><br><span class="line"><span class="comment"> *             Writer out:字符输出流，我们可以传递FileWriter,缓冲流会给FileWriter增加一个缓冲区,提高FileWriter的写入效率</span></span><br><span class="line"><span class="comment"> *             int sz:指定缓冲区的大小,不写默认大小</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建字符缓冲输出流对象,构造方法中传递字符输出流</span></span><br><span class="line">    BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"F:\\home\\edu.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、调用字符缓冲输出流中的方法 write , 把数据写入到内存缓冲区中</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span> ; i++) &#123;</span><br><span class="line">        bw.write(<span class="string">"井冈山大学~~~"</span>);</span><br><span class="line">        <span class="comment">// bw.write("\r\n");</span></span><br><span class="line">        bw.newLine();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3、调用字符缓冲输出流中的方法 flush ,把内存缓冲区中的数据,刷新到文件中</span></span><br><span class="line">    bw.flush();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 4、释放资源</span></span><br><span class="line">    bw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符缓冲输入流"><a href="#字符缓冲输入流" class="headerlink" title="字符缓冲输入流"></a>字符缓冲输入流</h3><p>字符缓冲输入流【BufferedReader】实际案例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 继承自父类的共性成员方法:</span></span><br><span class="line"><span class="comment"> *     int read() 读取单个字符并返回。</span></span><br><span class="line"><span class="comment"> *     int read(char[] cbuf)一次读取多个字符,将字符读入数组。</span></span><br><span class="line"><span class="comment"> *     void close() 关闭该流并释放与之关联的所有资源。</span></span><br><span class="line"><span class="comment"> *     构造方法:</span></span><br><span class="line"><span class="comment"> *         BufferedReader(Reader in)  创建一个使用默认大小输入缓冲区的缓冲字符输入流。</span></span><br><span class="line"><span class="comment"> *         BufferedReader(Reader in, int sz)     创建一个使用指定大小输入缓冲区的缓冲字符输入流。</span></span><br><span class="line"><span class="comment"> *         参数:</span></span><br><span class="line"><span class="comment"> *             Reader in:字符输入流，我们可以传递FileReader,缓冲流会给FileReader增加一个缓冲区,提高FileReader的读取效率</span></span><br><span class="line"><span class="comment"> *     特有的成员方法:</span></span><br><span class="line"><span class="comment"> *         String readLine() 读取一个文本行。读取一行数据</span></span><br><span class="line"><span class="comment"> *         行的终止符号:通过下列字符之一即可认为某行已终止：换行 ('\n')、回车 ('\r') 或回车后直接跟着换行(\r\n)。</span></span><br><span class="line"><span class="comment"> *         返回值:包含该行内容的字符串，不包含任何行终止符，如果已到达流末尾，则返回 null</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建字符缓冲输入流对象,构造方法中传递字符输入流</span></span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\05.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、使用字符缓冲输入流对象中的方法read/readLine读取文本</span></span><br><span class="line">    String line;</span><br><span class="line">    <span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        System.out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、释放资源</span></span><br><span class="line">    br.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="练习：文本排序"><a href="#练习：文本排序" class="headerlink" title="练习：文本排序"></a>练习：文本排序</h2><h3 id="练习描述"><a href="#练习描述" class="headerlink" title="练习描述"></a>练习描述</h3><p>请将下列文本信息恢复顺序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">3.侍中、侍郎郭攸之、费祎、董允等，此皆良实，志虑忠纯，是以先帝简拔以遗陛下。愚以为宫中之事，事无大小，悉以咨之，然后施行，必得裨补阙漏，有所广益。</span><br><span class="line">8.愿陛下托臣以讨贼兴复之效，不效，则治臣之罪，以告先帝之灵。若无兴德之言，则责攸之、祎、允等之慢，以彰其咎；陛下亦宜自谋，以咨诹善道，察纳雅言，深追先帝遗诏，臣不胜受恩感激。</span><br><span class="line">4.将军向宠，性行淑均，晓畅军事，试用之于昔日，先帝称之曰能，是以众议举宠为督。愚以为营中之事，悉以咨之，必能使行阵和睦，优劣得所。</span><br><span class="line">2.宫中府中，俱为一体，陟罚臧否，不宜异同。若有作奸犯科及为忠善者，宜付有司论其刑赏，以昭陛下平明之理，不宜偏私，使内外异法也。</span><br><span class="line">1.先帝创业未半而中道崩殂，今天下三分，益州疲弊，此诚危急存亡之秋也。然侍卫之臣不懈于内，忠志之士忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气，不宜妄自菲薄，引喻失义，以塞忠谏之路也。</span><br><span class="line">9.今当远离，临表涕零，不知所言。</span><br><span class="line">6.臣本布衣，躬耕于南阳，苟全性命于乱世，不求闻达于诸侯。先帝不以臣卑鄙，猥自枉屈，三顾臣于草庐之中，咨臣以当世之事，由是感激，遂许先帝以驱驰。后值倾覆，受任于败军之际，奉命于危难之间，尔来二十有一年矣。</span><br><span class="line">7.先帝知臣谨慎，故临崩寄臣以大事也。受命以来，夙夜忧叹，恐付托不效，以伤先帝之明，故五月渡泸，深入不毛。今南方已定，兵甲已足，当奖率三军，北定中原，庶竭驽钝，攘除奸凶，兴复汉室，还于旧都。此臣所以报先帝而忠陛下之职分也。至于斟酌损益，进尽忠言，则攸之、祎、允之任也。</span><br><span class="line">5.亲贤臣，远小人，此先汉所以兴隆也；亲小人，远贤臣，此后汉所以倾颓也。先帝在时，每与臣论此事，未尝不叹息痛恨于桓、灵也。侍中、尚书、长史、参军，此悉贞良死节之臣，愿陛下亲之信之，则汉室之隆，可计日而待也。</span><br></pre></td></tr></table></figure>

<h3 id="案例分析"><a href="#案例分析" class="headerlink" title="案例分析"></a>案例分析</h3><ul>
<li>1、逐行读取文本信息。</li>
<li>2、解析文本信息到集合中。</li>
<li>3、遍历集合，按顺序，写出文本信息。</li>
</ul>
<h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建一个 HashMap 集合对象,存储每行文本的序号(1,2,3,..);value:存储每行的文本</span></span><br><span class="line">    HashMap&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、创建字符缓冲输入流对象,构造方法中绑定字符输入流</span></span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"F:\\home\\05.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、创建字符缓冲输出流对象,构造方法中绑定字符输出流</span></span><br><span class="line">    BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"F:\\05.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、使用字符缓冲输入流中的方法 readline ,逐行读取文本</span></span><br><span class="line">    String line;</span><br><span class="line">    <span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">// 5、对读取到的文本进行切割,获取行中的序号和文本内容</span></span><br><span class="line">        String[] arr = line.split(<span class="string">"\\."</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6、把切割好的序号和文本的内容存储到 HashMap 集合中(key 序号是有序的,会自动排序 1,2,3,4..)</span></span><br><span class="line">        map.put(arr[<span class="number">0</span>], arr[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 7、遍历 HashMap 集合,获取每一个键值对</span></span><br><span class="line">    <span class="keyword">for</span> (String key : map.keySet()) &#123;</span><br><span class="line">        String value = map.get(key);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 8、把每一个键值对,拼接为一个文本行</span></span><br><span class="line">        line = key + <span class="string">"."</span> + value;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 9、把拼接好的文本,使用字符缓冲输出流中的方法 write ,写入到文件中</span></span><br><span class="line">        bw.write(line);</span><br><span class="line">        bw.newLine();    <span class="comment">// 写换行</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 10、释放资源</span></span><br><span class="line">    bw.close();</span><br><span class="line">    br.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h1><h2 id="字符编码和字符集"><a href="#字符编码和字符集" class="headerlink" title="字符编码和字符集"></a>字符编码和字符集</h2><h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><p>计算机中储存的信息都是用二进制数表示的，而我们在屏幕上看到的数字、英文、标点符号、汉字等字符是二进制数转换之后的结果。按照某种规则，将字符存储到计算机中，称为 <strong><em>编码</em></strong> 。反之，将存储在计算机中的二进制数按照某种规则解析显示出来，称为 <strong><em>解码</em></strong> 。比如说，按照 A 规则存储，同样按照 A 规则解析，那么就能显示正确的文本符号。反之，按照 A 规则存储，再按照 B 规则解析，就会导致乱码现象。</p>
<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>各种概念：</span>
    </div>
    <div class="block">
        编码 : 字符(我们能看懂的) --> 字节(我们看不懂的)
        解码 : 字节(我们看不懂的) --> 字符(我们能看懂的) 
        字符编码【Character Encoding】 : 就是一套自然语言的字符与二进制数之间的对应规则。
        编码表 : 生活中文字和计算机中二进制的对应规则
    </div>
</div>

<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><p><strong><em>字符集【Charset】</em></strong> ：也叫编码表，是一个系统支持的所有字符的集合，包括各国家文字、标点符号、图形符号、数字等。计算机要准确的存储和识别各种字符集符号，需要进行字符编码，一套字符集必然至少有一套字符编码。常见字符集有 <code>ASCII 字符集</code> 、<code>GBK 字符集</code> 、<code>Unicode  字符</code> 集等。字符编码与字符集对应关系如下图：</p>
<p><img src="../gallery/Java-Study/JavaSE-03/011.jpg" alt=""></p>
<p>可见，当指定了 <strong><em>编码</em></strong>，它所对应的 <strong><em>字符集</em></strong> 自然就指定了，所以 <strong><em>编码</em></strong> 才是我们最终要关心的。接下来我们介绍各种字符集。</p>
<div class="green">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>ASCII 字符集</span>
    </div>
    <div class="block">
        1、 ASCII（American Standard Code for Information Interchange，美国信息交换标准代码）是基于拉丁字母的一套电脑编码系统，用于显示现代英语，主要包括控制字符（回车键、退格、换行键等）和可显示字符（英文大小写字符、阿拉伯数字和西文符号）。
        2、 基本的ASCII字符集，使用7位（bits）表示一个字符，共128字符。ASCII的扩展字符集使用8位（bits）表示一个字符，共256字符，方便支持欧洲常用字符。
    </div>
</div>

<div class="yellow">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>ISO-8859-1 字符集</span>
    </div>
    <div class="block">
        拉丁码表，别名 Latin-1，用于显示欧洲使用的语言，包括荷兰、丹麦、德语、意大利语、西班牙语等。ISO-8859-1 使用单字节编码，兼容 ASCII 编码。
    </div>
</div>

<div class="red">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>GBxxx 字符集</span>
    </div>
    <div class="block">
        1、 GB 就是国标的意思，是为了显示中文而设计的一套字符集。
        2、 GB2312 ：简体中文码表。一个小于 127 的字符的意义与原来相同。但两个大于 127 的字符连在一起时，就表示一个汉字，这样大约可以组合了包含7000多个简体汉字，此外数学符号、罗马希腊的字母、日文的假名们都编进去了，连在ASCII里本来就有的数字、标点、字母都统统重新编了两个字节长的编码，这就是常说的"全角"字符，而原来在127号以下的那些就叫"半角"字符了。
        3、 GBK ：最常用的中文码表。是在GB2312标准基础上的扩展规范，使用了双字节编码方案，共收录了21003个汉字，完全兼容GB2312标准，同时支持繁体汉字以及日韩汉字等。
        4、 GB18030 ：最新的中文码表。收录汉字 70244 个，采用多字节编码，每个字可以由 1 个、2 个或 4 个字节组成。支持中国国内少数民族的文字，同时支持繁体汉字以及日韩汉字等。
    </div>
</div>

<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>Unicode字符集</span>
    </div>
    <div class="block">
        1、 Unicode 编码系统为表达任意语言的任意字符而设计，是业界的一种标准，也称为统一码、标准万国码。它最多使用 4 个字节的数字来表达每个字母、符号，或者文字。有三种编码方案，UTF-8、UTF-16 和 UTF-32。最为常用的 UTF-8 编码。
        2、 UTF-8 编码，可以用来表示 Unicode 标准中任何字符，它是电子邮件、网页及其他存储或传送文字的应用中，优先采用的编码。互联网工程工作小组（IETF）要求所有互联网协议都必须支持 UTF-8 编码。所以，我们开发Web应用，也要使用UTF-8编码。它使用一至四个字节为每个字符编码，编码规则如下：
        &nbsp;&nbsp;&nbsp;&nbsp;1、 128 个 US-ASCII 字符，只需一个字节编码。
        &nbsp;&nbsp;&nbsp;&nbsp;2、 拉丁文等字符，需要二个字节编码。 
        &nbsp;&nbsp;&nbsp;&nbsp;3、 大部分常用字（含中文），使用三个字节编码。
        &nbsp;&nbsp;&nbsp;&nbsp;4、 其他极少使用的 Unicode 辅助字符，使用四字节编码。
    </div>
</div>

<h2 id="编码引出的问题"><a href="#编码引出的问题" class="headerlink" title="编码引出的问题"></a>编码引出的问题</h2><p>在 IDEA 中，可以使用 <code>FileReader</code> 读取项目中的文本文件。由于 IDEA 默认是 <code>UTF-8</code> 编码，所以读取的内容没有任何问题。但是，当读取 Windows 系统中创建的文本文件时，由于 Windows 系统的默认是 GBK 编码，就会出现乱码。代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    FileReader fileReader = <span class="keyword">new</span> FileReader(<span class="string">"F:\\GBK.txt"</span>);    <span class="comment">// 井冈山大学</span></span><br><span class="line">    <span class="keyword">int</span> read;</span><br><span class="line">    <span class="keyword">while</span> ((read = fileReader.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">        System.out.print((<span class="keyword">char</span>)read);</span><br><span class="line">    &#125;</span><br><span class="line">    fileReader.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果：</span></span><br><span class="line"><span class="comment">// ����ɽ��ѧ</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>那么问题来了，我们要如何才能读取 GBK 编码的文件呢？这时就要用到转换流了。接着往下看 👇👇👇</p>
</blockquote>
<h2 id="转换流图解"><a href="#转换流图解" class="headerlink" title="转换流图解"></a>转换流图解</h2><p><img src="../gallery/Java-Study/JavaSE-03/012.jpg" alt=""></p>
<h2 id="InputStreamReader-类"><a href="#InputStreamReader-类" class="headerlink" title="InputStreamReader 类"></a>InputStreamReader 类</h2><p>转换流 <code>java.io.InputStreamReader</code> ，是 Reader 的子类，是从字节流到字符流的桥梁。它读取字节，并使用指定的字符集将其解码为字符。它的字符集可以由名称指定，也可以接受平台的默认字符集。 </p>
<h3 id="构造方法-7"><a href="#构造方法-7" class="headerlink" title="构造方法"></a>构造方法</h3><div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法</span>
    </div>
    <div class="block">
        InputStreamReader(InputStream in) : 创建一个使用默认字符集的字符流。 
        InputStreamReader(InputStream in, String charsetName) : 创建一个指定字符集的字符流。
    </div>
</div>

<h3 id="指定编码读取"><a href="#指定编码读取" class="headerlink" title="指定编码读取"></a>指定编码读取</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    read_gbk();</span><br><span class="line">    read_utf_8();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 InputStreamReader 读取 GBK 格式的文件</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read_gbk</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 InputStreamReader 对象,构造方法中传递字节输入流和指定的编码表名称</span></span><br><span class="line">    InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\gbk.txt"</span>),<span class="string">"GBK"</span>); <span class="comment">// 你好</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、使用InputStreamReader对象中的方法 read 读取文件</span></span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3、释放资源</span></span><br><span class="line">    isr.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 InputStreamReader 读取 UTF-8 格式的文件</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read_utf_8</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 InputStreamReader 对象,构造方法中传递字节输入流和指定的编码表名称</span></span><br><span class="line">    InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\utf_8.txt"</span>)); <span class="comment">// 不指定默认使用 UTF-8</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2、使用 InputStreamReader 对象中的方法 read 读取文件</span></span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = isr.read())!=-<span class="number">1</span>)&#123;</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)len);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 3、释放资源</span></span><br><span class="line">    isr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="OutputStreamWriter-类"><a href="#OutputStreamWriter-类" class="headerlink" title="OutputStreamWriter 类"></a>OutputStreamWriter 类</h2><p>转换流 <code>java.io.OutputStreamWriter</code> ，是 Writer 的子类，是从字符流到字节流的桥梁。使用指定的字符集将字符编码为字节。它的字符集可以由名称指定，也可以接受平台的默认字符集。 </p>
<h3 id="构造方法-8"><a href="#构造方法-8" class="headerlink" title="构造方法"></a>构造方法</h3><div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法</span>
    </div>
    <div class="block">
        OutputStreamWriter(OutputStream in) : 创建一个使用默认字符集的字符流。 
        OutputStreamWriter(OutputStream in, String charsetName) : 创建一个指定字符集的字符流。
    </div>
</div>

<h3 id="指定编码写出"><a href="#指定编码写出" class="headerlink" title="指定编码写出"></a>指定编码写出</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    gbk();</span><br><span class="line">    utf_8();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用转换流 OutputStreamWriter 写 GBK 格式的文件</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">gbk</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 OutputStreamWriter 对象,构造方法中传递字节输出流和指定的编码表名称</span></span><br><span class="line">    OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\gbk.txt"</span>),<span class="string">"GBK"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、使用 OutputStreamWriter 对象中的方法 write , 把字符转换为字节存储缓冲区中(编码)</span></span><br><span class="line">    osw.write(<span class="string">"你好"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、使用 OutputStreamWriter 对象中的方法 flush , 把内存缓冲区中的字节刷新到文件中(使用字节流写字节的过程)</span></span><br><span class="line">    osw.flush();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、释放资源</span></span><br><span class="line">    osw.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用转换流 OutputStreamWriter 写 UTF-8 格式的文件</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">utf_8</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 OutputStreamWriter 对象,构造方法中传递字节输出流和指定的编码表名称</span></span><br><span class="line">    OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\utf_8.txt"</span>),<span class="string">"utf-8"</span>); <span class="comment">// 不指定默认使用UTF-8</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、使用 OutputStreamWriter 对象中的方法 write , 把字符转换为字节存储缓冲区中(编码)</span></span><br><span class="line">    osw.write(<span class="string">"你好"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、使用 OutputStreamWriter 对象中的方法 flush , 把内存缓冲区中的字节刷新到文件中(使用字节流写字节的过程)</span></span><br><span class="line">    osw.flush();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、释放资源</span></span><br><span class="line">    osw.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="练习：转换文件编码"><a href="#练习：转换文件编码" class="headerlink" title="练习：转换文件编码"></a>练习：转换文件编码</h2><p>将 GBK 编码的文本文件，转换为 UTF-8 编码的文本文件。代码演示如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 InputStreamReader 对象,构造方法中传递字节输入流和指定的编码表名称 GBK</span></span><br><span class="line">    InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\GBK.txt"</span>),<span class="string">"GBK"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2、创建 OutputStreamWriter 对象,构造方法中传递字节输出流和指定的编码表名称 UTF-8</span></span><br><span class="line">    OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\utf_8.txt"</span>),<span class="string">"UTF-8"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3、使用 InputStreamReader 对象中的方法 read 读取文件</span></span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">while</span>((len = isr.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">// 4、使用 OutputStreamWriter 对象中的方法 write , 把读取的数据写入到文件中</span></span><br><span class="line">        osw.write(len);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 5、释放资源</span></span><br><span class="line">    osw.close();</span><br><span class="line">    isr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="序列化流"><a href="#序列化流" class="headerlink" title="序列化流"></a>序列化流</h1><p>Java 提供了一种对象 <strong><em>序列化</em></strong> 的机制。用一个字节序列可以表示一个对象，该字节序列包含该 <code>对象的数据</code> 、<code>对象的类型</code> 和 <code>对象中存储的属性</code> 等信息。字节序列写出到文件之后，相当于文件中 <strong><em>持久保存</em></strong> 了一个对象的信息。 反之，该字节序列还可以从文件中读取回来，重构对象，对它进行 <strong><em>反序列化</em></strong>。<code>对象的数据</code> 、<code>对象的类型</code> 和 <code>对象中存储的数据</code> 信息，都可以用来在内存中创建对象。请看下图理解序列化：</p>
<p><img src="../gallery/Java-Study/JavaSE-03/013.jpg" alt=""></p>
<h2 id="ObjectOutputStream-类"><a href="#ObjectOutputStream-类" class="headerlink" title="ObjectOutputStream 类"></a>ObjectOutputStream 类</h2><p><code>java.io.ObjectOutputStream</code> 类，将 Java 对象的原始数据类型写出到文件,实现对象的持久存储。</p>
<h3 id="构造方法-9"><a href="#构造方法-9" class="headerlink" title="构造方法"></a>构造方法</h3><div class="green">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法</span>
    </div>
    <div class="block">
        public ObjectOutputStream(OutputStream out) ： 创建一个指定 OutputStream 的 ObjectOutputStream 。
    </div>
</div>

<h3 id="序列化操作"><a href="#序列化操作" class="headerlink" title="序列化操作"></a>序列化操作</h3><div class="yellow">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>一、对象要想序列化，必须满足两个条件：</span>
    </div>
    <div class="block">
        1、该类必须实现 java.io.Serializable 接口，这是一个标记接口，不实现此接口的类将不会使任何状态序列化或反序列化，会抛出 NotSerializableException 。
        2、该类的所有属性必须是可序列化的。如果有一个属性不需要可序列化的，则该属性必须注明是瞬态的，使用 transient 关键字修饰。
    </div>
</div>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 序列化和反序列化的时候,会抛出NotSerializableException没有序列化异常</span></span><br><span class="line"><span class="comment"> * 类通过实现 java.io.Serializable 接口以启用其序列化功能。未实现此接口的类将无法使其任何状态序列化或反序列化。</span></span><br><span class="line"><span class="comment"> * Serializable接口也叫标记型接口</span></span><br><span class="line"><span class="comment"> *     要进行序列化和反序列化的类必须实现Serializable接口,就会给类添加一个标记</span></span><br><span class="line"><span class="comment"> *     当我们进行序列化和反序列化的时候,就会检测类上是否有这个标记</span></span><br><span class="line"><span class="comment"> *         有:就可以序列化和反序列化</span></span><br><span class="line"><span class="comment"> *         没有:就会抛出 NotSerializableException异常</span></span><br><span class="line"><span class="comment"> * 去市场买肉--&gt;肉上有一个蓝色章(检测合格)--&gt;放心购买--&gt;买回来怎么吃随意</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * static关键字:静态关键字</span></span><br><span class="line"><span class="comment"> *     静态优先于非静态加载到内存中(静态优先于对象进入到内存中)</span></span><br><span class="line"><span class="comment"> *     被static修饰的成员变量不能被序列化的,序列化的都是对象</span></span><br><span class="line"><span class="comment"> *     private static int age;</span></span><br><span class="line"><span class="comment"> *     oos.writeObject(new Person("小美女",18));</span></span><br><span class="line"><span class="comment"> *     Object o = ois.readObject();</span></span><br><span class="line"><span class="comment"> *     Person&#123;name='小美女', age=0&#125;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * transient关键字:瞬态关键字</span></span><br><span class="line"><span class="comment"> *     被transient修饰成员变量,不能被序列化</span></span><br><span class="line"><span class="comment"> *     private transient int age;</span></span><br><span class="line"><span class="comment"> *     oos.writeObject(new Person("小美女",18));</span></span><br><span class="line"><span class="comment"> *     Object o = ois.readObject();</span></span><br><span class="line"><span class="comment"> *     Person&#123;name='小美女', age=0&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    <span class="comment">// 防止出现 InvalidClassException</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">//private static int age;</span></span><br><span class="line">    <span class="comment">//private transient int age;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>二、写出对象方法：</span>
    </div>
    <div class="block">
        通过 public final void writeObject (Object obj)` 方法，将指定的对象写出。
    </div>
</div>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * java.io.ObjectOutputStream extends OutputStream</span></span><br><span class="line"><span class="comment"> * ObjectOutputStream:对象的序列化流</span></span><br><span class="line"><span class="comment"> * 作用:把对象以流的方式写入到文件中保存</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 构造方法:</span></span><br><span class="line"><span class="comment"> *     ObjectOutputStream(OutputStream out) 创建写入指定 OutputStream 的 ObjectOutputStream。</span></span><br><span class="line"><span class="comment"> *     参数:</span></span><br><span class="line"><span class="comment"> *         OutputStream out:字节输出流</span></span><br><span class="line"><span class="comment"> * 特有的成员方法:</span></span><br><span class="line"><span class="comment"> *     void writeObject(Object obj) 将指定的对象写入 ObjectOutputStream。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 ObjectOutputStream 对象,构造方法中传递字节输出流</span></span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\person.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、使用 ObjectOutputStream 对象中的方法 writeObject ,把对象写入到文件中</span></span><br><span class="line">    oos.writeObject(<span class="keyword">new</span> Person(<span class="string">"小美女"</span>, <span class="number">18</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、释放资源</span></span><br><span class="line">    oos.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ObjectInputStream-类"><a href="#ObjectInputStream-类" class="headerlink" title="ObjectInputStream 类"></a>ObjectInputStream 类</h2><p>ObjectInputStream 反序列化流，将之前使用 ObjectOutputStream 序列化的原始数据恢复为对象。 </p>
<h3 id="构造方法-10"><a href="#构造方法-10" class="headerlink" title="构造方法"></a>构造方法</h3><div class="red">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
         public ObjectInputStream(InputStream in) ： 创建一个指定 InputStream 的 ObjectInputStream 。
    </div>
</div>

<h3 id="反序列化操作一"><a href="#反序列化操作一" class="headerlink" title="反序列化操作一"></a>反序列化操作一</h3><div class="green">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>反序列化操作一：</span>
    </div>
    <div class="block">
         如果能找到一个对象的 class 文件，我们可以进行反序列化操作，调用 ObjectInputStream 读取对象的 public final Object readObject() 方法，读取一个对象。
    </div>
</div>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、创建 ObjectInputStream 对象,构造方法中传递字节输入流</span></span><br><span class="line">    ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\person.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、使用 ObjectInputStream 对象中的方法 readObject 读取保存对象的文件</span></span><br><span class="line">    Object o = ois.readObject();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、释放资源</span></span><br><span class="line">    ois.close();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、使用读取出来的对象(打印)</span></span><br><span class="line">    System.out.println(o);</span><br><span class="line">    Person p = (Person)o;</span><br><span class="line">    System.out.println(p.getName() + p.getAge());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>JVM 可以反序列化对象的条件：</code></p>
<p>它必须能够找到 class 文件的类，如果找不到该类的 class 文件，则会抛出一个 <code>ClassNotFoundException</code> 异常。</p>
</blockquote>
<h3 id="反序列化操作二"><a href="#反序列化操作二" class="headerlink" title="反序列化操作二"></a>反序列化操作二</h3><p>还有一种情况，当 JVM 反序列化对象时，能找到 class 文件，但是 class 文件在序列化对象之后发生了修改，那么反序列化操作也会失败，会抛出一个 <code>InvalidClassException</code> 异常。</p>
<div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>InvalidClassException 原因如下：</span>
    </div>
    <div class="block">
        1、该类的序列版本号与从流中读取的类描述符的版本号不匹配 
        2、该类包含未知数据类型 
        3、该类没有可访问的无参数构造方法
    </div>
</div>


<p><code>Serializable</code> 接口给需要序列化的类，提供了一个序列版本号。该版本号的目的在于验证序列化的对象和对应类是否版本匹配。只要给上述 Person 类加入下面代码就可以防止该异常发生。代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 防止出现 InvalidClassException</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br></pre></td></tr></table></figure>

<h2 id="练习：序列化集合"><a href="#练习：序列化集合" class="headerlink" title="练习：序列化集合"></a>练习：序列化集合</h2><ul>
<li>1、将存有多个自定义对象的集合序列化操作，保存到 <code>list.txt</code> 文件中。</li>
<li>2、反序列化 <code>list.txt</code> ，并遍历集合，打印对象信息。</li>
</ul>
<h3 id="案例分析-1"><a href="#案例分析-1" class="headerlink" title="案例分析"></a>案例分析</h3><div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>案例分析：</span>
    </div>
    <div class="block">
        1、把若干学生对象 ，保存到集合中。
        2、把集合序列化。
        3、反序列化读取时，只需要读取一次，转换为集合类型。
        4、遍历集合，可以打印所有的学生信息。
    </div>
</div>

<h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 练习：序列化集合</span></span><br><span class="line"><span class="comment">// 当我们想在文件中保存多个对象的时候，可以把多个对象存储到一个集合中，对集合进序列化和反序列化。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">    <span class="comment">// 1、定义一个存储 Person 对象的 ArrayList 集合</span></span><br><span class="line">    ArrayList&lt;Person&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2、往 ArrayList 集合中存储 Person 对象</span></span><br><span class="line">    list.add(<span class="keyword">new</span> Person(<span class="string">"张三"</span>,<span class="number">18</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Person(<span class="string">"李四"</span>,<span class="number">19</span>));</span><br><span class="line">    list.add(<span class="keyword">new</span> Person(<span class="string">"王五"</span>,<span class="number">20</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3、创建一个序列化流 ObjectOutputStream 对象</span></span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"F:\\list.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4、使用 ObjectOutputStream 对象中的方法 writeObject ,对集合进行序列化</span></span><br><span class="line">    oos.writeObject(list);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5、创建一个反序列化 ObjectInputStream 对象</span></span><br><span class="line">    ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"F:\\list.txt"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6、使用 ObjectInputStream 对象中的方法 readObject 读取文件中保存的集合</span></span><br><span class="line">    Object o = ois.readObject();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 7、把 Object 类型的集合转换为 ArrayList 类型</span></span><br><span class="line">    ArrayList&lt;Person&gt; list2 = (ArrayList&lt;Person&gt;)o;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 8、遍历 ArrayList 集合</span></span><br><span class="line">    <span class="keyword">for</span> (Person p : list2) &#123;</span><br><span class="line">        System.out.println(p);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 9、释放资源</span></span><br><span class="line">    ois.close();</span><br><span class="line">    oos.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    <span class="comment">// 防止出现 InvalidClassException</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">//private static int age;</span></span><br><span class="line">    <span class="comment">//private transient int age;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h1><h2 id="打印流概述"><a href="#打印流概述" class="headerlink" title="打印流概述"></a>打印流概述</h2><p>平时我们在控制台打印输出，是调用 <code>print</code> 方法和 <code>println</code> 方法完成的，这两个方法都来自于 <code>java.io.PrintStream</code> 类，该类能够方便地打印各种数据类型的值，是一种便捷的输出方式。接下来我们介绍 <strong><em>PrintStream 类</em></strong>。</p>
<h2 id="PrintStream-类"><a href="#PrintStream-类" class="headerlink" title="PrintStream 类"></a>PrintStream 类</h2><h3 id="构造方法-11"><a href="#构造方法-11" class="headerlink" title="构造方法"></a>构造方法</h3><div class="blue">
    <div class="block-title ">
        <i class="fa fa-bullseye" aria-hidden="true"></i>
        <span>构造方法：</span>
    </div>
    <div class="block">
        public PrintStream(String fileName) ： 使用指定的文件名创建一个新的打印流。
    </div>
</div>

<h3 id="改变打印流向"><a href="#改变打印流向" class="headerlink" title="改变打印流向"></a>改变打印流向</h3><p><code>System.out</code> 就是 <code>PrintStream</code> 类型的，只不过它的流向是系统规定的，打印在控制台上。不过，既然是流对象，我们就可以玩一个 “小把戏” ，改变它的流向。示例代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * java.io.PrintStream:打印流</span></span><br><span class="line"><span class="comment"> *     PrintStream 为其他输出流添加了功能，使它们能够方便地打印各种数据值表示形式。</span></span><br><span class="line"><span class="comment"> * PrintStream特点:</span></span><br><span class="line"><span class="comment"> *     1.只负责数据的输出,不负责数据的读取</span></span><br><span class="line"><span class="comment"> *     2.与其他输出流不同，PrintStream 永远不会抛出 IOException</span></span><br><span class="line"><span class="comment"> *     3.有特有的方法,print,println</span></span><br><span class="line"><span class="comment"> *         void print(任意类型的值)</span></span><br><span class="line"><span class="comment"> *         void println(任意类型的值并换行)</span></span><br><span class="line"><span class="comment"> * 构造方法:</span></span><br><span class="line"><span class="comment"> *     PrintStream(File file):输出的目的地是一个文件</span></span><br><span class="line"><span class="comment"> *     PrintStream(OutputStream out):输出的目的地是一个字节输出流</span></span><br><span class="line"><span class="comment"> *     PrintStream(String fileName) :输出的目的地是一个文件路径</span></span><br><span class="line"><span class="comment"> * PrintStream extends OutputStream</span></span><br><span class="line"><span class="comment"> * 继承自父类的成员方法:</span></span><br><span class="line"><span class="comment"> *     - public void close() ：关闭此输出流并释放与此流相关联的任何系统资源。</span></span><br><span class="line"><span class="comment"> *     - public void flush() ：刷新此输出流并强制任何缓冲的输出字节被写出。</span></span><br><span class="line"><span class="comment"> *     - public void write(byte[] b)：将 b.length字节从指定的字节数组写入此输出流。</span></span><br><span class="line"><span class="comment"> *     - public void write(byte[] b, int off, int len) ：从指定的字节数组写入 len字节，从偏移量 off开始输出到此输出流。</span></span><br><span class="line"><span class="comment"> *     - public abstract void write(int b) ：将指定的字节输出流。</span></span><br><span class="line"><span class="comment"> * 注意:</span></span><br><span class="line"><span class="comment"> *     如果使用继承自父类的write方法写数据,那么查看数据的时候会查询编码表 97-&gt;a</span></span><br><span class="line"><span class="comment"> *     如果使用自己特有的方法print/println方法写数据,写的数据原样输出 97-&gt;97</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">    <span class="comment">// 创建打印流 PrintStream 对象,构造方法中绑定要输出的目的地</span></span><br><span class="line">    PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="string">"F:\\print.txt"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 如果使用继承自父类的write方法写数据,那么查看数据的时候会查询编码表 97-&gt;a</span></span><br><span class="line">    ps.write(<span class="number">97</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 如果使用自己特有的方法 print/println 方法写数据,写的数据原样输出 97-&gt;97</span></span><br><span class="line">    ps.println(<span class="number">97</span>);</span><br><span class="line">    ps.println(<span class="number">8.8</span>);</span><br><span class="line">    ps.println(<span class="string">'a'</span>);</span><br><span class="line">    ps.println(<span class="string">"HelloWorld"</span>);</span><br><span class="line">    ps.println(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 释放资源</span></span><br><span class="line">    ps.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例代码二如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 可以改变输出语句的目的地(打印流的流向)</span></span><br><span class="line"><span class="comment"> * 输出语句,默认在控制台输出</span></span><br><span class="line"><span class="comment"> * 使用 System.setOut 方法改变输出语句的目的地改为参数中传递的打印流的目的地</span></span><br><span class="line"><span class="comment"> *     static void setOut(PrintStream out) : 重新分配“标准”输出流。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"我是在控制台输出"</span>);</span><br><span class="line"></span><br><span class="line">    PrintStream ps = <span class="keyword">new</span> PrintStream(<span class="string">"F:\\print-out.txt"</span>);</span><br><span class="line">    System.setOut(ps);    <span class="comment">// 把输出语句的目的地改变为打印流的目的地</span></span><br><span class="line">    System.out.println(<span class="string">"我在打印流的目的地中输出"</span>);    <span class="comment">// 不会在控制台显示，会在 print-out.txt 文件里显示</span></span><br><span class="line"></span><br><span class="line">    ps.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Java 中的 IO 流到此结束了，欢迎评论区留言！！！</p>
</blockquote>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item  guo-tags">
                    <i class="fas fa-tags has-text-grey"></i>&nbsp;&nbsp;
                    <a class="has-link-grey -link" href="/tags/IO-%E6%B5%81/" rel="tag">IO 流</a>&nbsp;<i class=" has-text-grey">/</i>&nbsp;<a class="has-link-grey -link" href="/tags/Java/" rel="tag">Java</a>
                </div>
            </div>
        </div>
        
        
        
        <!-- 文章版权信息代码开始 -->

        
            <ul class="post-copyright">
            <li><b>本文标题：</b><b>Java 中的 IO 流</b></li>
            <li><b>本文作者：</b><b>Java Developer</b></li>
            <li><b>本文链接：</b><b><a href="https://guoshizhan.github.io/Java-IO.html">https://guoshizhan.github.io/Java-IO.html</a></b></li>
            <li><b>版权声明：</b><b>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！</b>
            </li>
            </ul>
            <br/>
            <span class="is-size-6 has-text-grey has-mr-7">📚&nbsp;本站推荐文章</span>
<br>

    &nbsp;<!--1--> 👉 <a href="/blog-setup.html" class="is-size-6" target="_blank">从 0 开始搭建 Hexo 博客</a><br>

    &nbsp;<!--2--> 👉 <a href="/computerNetwork.html" class="is-size-6" target="_blank">计算机网络入门教程</a><br>

    &nbsp;<!--3--> 👉 <a href="/Structure.html" class="is-size-6" target="_blank">数据结构入门</a><br>

    &nbsp;<!--4--> 👉 <a href="/Algorithm.html" class="is-size-6" target="_blank">算法入门</a><br>

    &nbsp;<!--5--> 👉 <a href="/IDEA.html" class="is-size-6" target="_blank">IDEA 入门教程</a><br>

            <br>
        

        <!-- 文章版权信息代码结束-->
        

        
        <div class="social-share"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css">
<script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>支付宝</span>
    <div class="qrcode"><img src="/images/wechat.png" alt="支付宝"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>微信</span>
    <div class="qrcode"><img src="/images/wechat.png" alt="微信"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/front-html.html">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">html 入门教程</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/Linux.html">
                <span class="level-item">Linux 入门教程</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">可在评论区留言哦</h3>
        
<div id="comment-container"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.4.1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.4.1/dist/gitalk.min.js"></script>
<script>
    var gitalk = new Gitalk({
        clientID: 'cff2590c3ebe89a56cf0',
        clientSecret: 'b6eea23c7fd06b8a540fea56bfa7546a3dfcf214',
        id: '3cf7da48ef116d1d5908b361fffc2fa9',
        repo: 'gitalk-comments',
        owner: 'guoshizhan',
        admin: "guoshizhan",
        createIssueManually: false,
        distractionFreeMode: true
    })
    gitalk.render('comment-container')
</script>

    </div>
</div>
</div>
                




<div class="column is-4-tablet is-3-desktop is-3-widescreen  has-order-1 column-left is-sticky">
    
        <!--         这里的第一行和最后一行的功能是动态隐藏 profile ，菜单页显示，文章页不显示。-->

<div class="card widget">
    <div class="card-content guo-profile">
        <nav class="level">
            <div class="level-item has-text-centered guo-nav" style="flex-shrink: 1">
                <div class="guo-header">
                    <div class="guo-img">
                        
                        <figure class="image is-128x128 has-mb-6">
                            <img class="is-rounded  avatar-image" src="/images/avatar.gif" alt="何年の再遇见">
                        </figure>
                    </div>
                    
                    <div class="guo-text">
                        
                            <p class="is-size-4 is-block">
                                何年の再遇见
                            </p>
                            
                            
                            <p class="is-size-6 is-block">
                                愿你走出半生，归来仍是少年
                            </p>
                            
                            
                            <p class="is-size-6 is-flex is-flex-center">
                                <i class="fas fa-map-marker-alt has-mr-7"></i>
                                <span>井冈山大学</span>
                            </p>
                        
                    </div>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile guo-nav">
            <div class="level-item has-text-centered is-marginless wz">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            29
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless fl">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            8
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless bq">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            38
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        <!--
        
            <div >
                <a class="level-item button guo-github" href="https://github.com/guoshizhan" target="_blank" rel="noopener">我的 GitHub 地址</a>
            </div>
        
        -->
        
        
        <div style="max-height:100px;">
            <p id="hitokoto">一言句子获取中...</p>
            <script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>
        </div>
    </div>
</div>
<!--         这里的最后一行和第一行的功能是动态隐藏 profile ，菜单页显示，文章页不显示。-->
    
        

    <div class="card widget toc-scroll" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    目录
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#File-类">
        <span class="has-mr-6">1</span>
        <span>File 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#File-概述">
        <span class="has-mr-6">1.1</span>
        <span>File 概述</span>
        </a></li><li>
        <a class="is-flex" href="#构造方法">
        <span class="has-mr-6">1.2</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#常用方法">
        <span class="has-mr-6">1.3</span>
        <span>常用方法</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#获取功能的方法">
        <span class="has-mr-6">1.3.1</span>
        <span>获取功能的方法</span>
        </a></li><li>
        <a class="is-flex" href="#判断功能的方法">
        <span class="has-mr-6">1.3.2</span>
        <span>判断功能的方法</span>
        </a></li><li>
        <a class="is-flex" href="#创建和删除功能的方法">
        <span class="has-mr-6">1.3.3</span>
        <span>创建和删除功能的方法</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#目录的遍历">
        <span class="has-mr-6">1.4</span>
        <span>目录的遍历</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#递归">
        <span class="has-mr-6">2</span>
        <span>递归</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#递归概述">
        <span class="has-mr-6">2.1</span>
        <span>递归概述</span>
        </a></li><li>
        <a class="is-flex" href="#递归累加求和">
        <span class="has-mr-6">2.2</span>
        <span>递归累加求和</span>
        </a></li><li>
        <a class="is-flex" href="#递归求阶乘">
        <span class="has-mr-6">2.3</span>
        <span>递归求阶乘</span>
        </a></li><li>
        <a class="is-flex" href="#递归打印多级目录">
        <span class="has-mr-6">2.4</span>
        <span>递归打印多级目录</span>
        </a></li><li>
        <a class="is-flex" href="#文件搜索">
        <span class="has-mr-6">2.5</span>
        <span>文件搜索</span>
        </a></li><li>
        <a class="is-flex" href="#文件搜索之过滤器">
        <span class="has-mr-6">2.6</span>
        <span>文件搜索之过滤器</span>
        </a></li><li>
        <a class="is-flex" href="#过滤器之-Lambda-优化">
        <span class="has-mr-6">2.7</span>
        <span>过滤器之 Lambda 优化</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#IO-流概述">
        <span class="has-mr-6">3</span>
        <span>IO 流概述</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#什么是-IO-流">
        <span class="has-mr-6">3.1</span>
        <span>什么是 IO 流</span>
        </a></li><li>
        <a class="is-flex" href="#IO-流的分类">
        <span class="has-mr-6">3.2</span>
        <span>IO 流的分类</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#字节流">
        <span class="has-mr-6">4</span>
        <span>字节流</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#一切皆为字节">
        <span class="has-mr-6">4.1</span>
        <span>一切皆为字节</span>
        </a></li><li>
        <a class="is-flex" href="#字节输出流">
        <span class="has-mr-6">4.2</span>
        <span>字节输出流</span>
        </a></li><li>
        <a class="is-flex" href="#FileOutputStream-类">
        <span class="has-mr-6">4.3</span>
        <span>FileOutputStream 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-1">
        <span class="has-mr-6">4.3.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#写出字节数据">
        <span class="has-mr-6">4.3.2</span>
        <span>写出字节数据</span>
        </a></li><li>
        <a class="is-flex" href="#写出字节数组">
        <span class="has-mr-6">4.3.3</span>
        <span>写出字节数组</span>
        </a></li><li>
        <a class="is-flex" href="#写出指定长度字节数组">
        <span class="has-mr-6">4.3.4</span>
        <span>写出指定长度字节数组</span>
        </a></li><li>
        <a class="is-flex" href="#数据追加续写">
        <span class="has-mr-6">4.3.5</span>
        <span>数据追加续写</span>
        </a></li><li>
        <a class="is-flex" href="#写出换行">
        <span class="has-mr-6">4.3.6</span>
        <span>写出换行</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#字节输入流">
        <span class="has-mr-6">4.4</span>
        <span>字节输入流</span>
        </a></li><li>
        <a class="is-flex" href="#FileInputStream-类">
        <span class="has-mr-6">4.5</span>
        <span>FileInputStream 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-2">
        <span class="has-mr-6">4.5.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#读取字节数据">
        <span class="has-mr-6">4.5.2</span>
        <span>读取字节数据</span>
        </a></li><li>
        <a class="is-flex" href="#使用字节数组读取">
        <span class="has-mr-6">4.5.3</span>
        <span>使用字节数组读取</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#图片复制练习">
        <span class="has-mr-6">4.6</span>
        <span>图片复制练习</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#复制原理图解">
        <span class="has-mr-6">4.6.1</span>
        <span>复制原理图解</span>
        </a></li><li>
        <a class="is-flex" href="#案例实现">
        <span class="has-mr-6">4.6.2</span>
        <span>案例实现</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#字符流">
        <span class="has-mr-6">5</span>
        <span>字符流</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#字符输入流">
        <span class="has-mr-6">5.1</span>
        <span>字符输入流</span>
        </a></li><li>
        <a class="is-flex" href="#FileReader-类">
        <span class="has-mr-6">5.2</span>
        <span>FileReader 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-3">
        <span class="has-mr-6">5.2.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#读取字符数据">
        <span class="has-mr-6">5.2.2</span>
        <span>读取字符数据</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#字符输出流">
        <span class="has-mr-6">5.3</span>
        <span>字符输出流</span>
        </a></li><li>
        <a class="is-flex" href="#FileWriter-类">
        <span class="has-mr-6">5.4</span>
        <span>FileWriter 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-4">
        <span class="has-mr-6">5.4.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#基本写出数据">
        <span class="has-mr-6">5.4.2</span>
        <span>基本写出数据</span>
        </a></li><li>
        <a class="is-flex" href="#关闭和刷新">
        <span class="has-mr-6">5.4.3</span>
        <span>关闭和刷新</span>
        </a></li><li>
        <a class="is-flex" href="#写出其他数据">
        <span class="has-mr-6">5.4.4</span>
        <span>写出其他数据</span>
        </a></li><li>
        <a class="is-flex" href="#数据追加续写-1">
        <span class="has-mr-6">5.4.5</span>
        <span>数据追加续写</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#IO-异常的处理">
        <span class="has-mr-6">6</span>
        <span>IO 异常的处理</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#JDK7-前处理">
        <span class="has-mr-6">6.1</span>
        <span>JDK7 前处理</span>
        </a></li><li>
        <a class="is-flex" href="#JDK7-的处理">
        <span class="has-mr-6">6.2</span>
        <span>JDK7 的处理</span>
        </a></li><li>
        <a class="is-flex" href="#JDK9-的改进">
        <span class="has-mr-6">6.3</span>
        <span>JDK9 的改进</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#Properties-属性集">
        <span class="has-mr-6">7</span>
        <span>Properties 属性集</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#属性集概述">
        <span class="has-mr-6">7.1</span>
        <span>属性集概述</span>
        </a></li><li>
        <a class="is-flex" href="#Properties-类">
        <span class="has-mr-6">7.2</span>
        <span>Properties 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法和其他方法">
        <span class="has-mr-6">7.2.1</span>
        <span>构造方法和其他方法</span>
        </a></li><li>
        <a class="is-flex" href="#与流相关的方法">
        <span class="has-mr-6">7.2.2</span>
        <span>与流相关的方法</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#缓冲流">
        <span class="has-mr-6">8</span>
        <span>缓冲流</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#缓冲流概述">
        <span class="has-mr-6">8.1</span>
        <span>缓冲流概述</span>
        </a></li><li>
        <a class="is-flex" href="#字节缓冲流">
        <span class="has-mr-6">8.2</span>
        <span>字节缓冲流</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-5">
        <span class="has-mr-6">8.2.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#字节缓冲输出流">
        <span class="has-mr-6">8.2.2</span>
        <span>字节缓冲输出流</span>
        </a></li><li>
        <a class="is-flex" href="#字节缓冲输入流">
        <span class="has-mr-6">8.2.3</span>
        <span>字节缓冲输入流</span>
        </a></li><li>
        <a class="is-flex" href="#效率测试">
        <span class="has-mr-6">8.2.4</span>
        <span>效率测试</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#字符缓冲流">
        <span class="has-mr-6">8.3</span>
        <span>字符缓冲流</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-6">
        <span class="has-mr-6">8.3.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#特有方法">
        <span class="has-mr-6">8.3.2</span>
        <span>特有方法</span>
        </a></li><li>
        <a class="is-flex" href="#字符缓冲输出流">
        <span class="has-mr-6">8.3.3</span>
        <span>字符缓冲输出流</span>
        </a></li><li>
        <a class="is-flex" href="#字符缓冲输入流">
        <span class="has-mr-6">8.3.4</span>
        <span>字符缓冲输入流</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#练习：文本排序">
        <span class="has-mr-6">8.4</span>
        <span>练习：文本排序</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#练习描述">
        <span class="has-mr-6">8.4.1</span>
        <span>练习描述</span>
        </a></li><li>
        <a class="is-flex" href="#案例分析">
        <span class="has-mr-6">8.4.2</span>
        <span>案例分析</span>
        </a></li><li>
        <a class="is-flex" href="#代码实现">
        <span class="has-mr-6">8.4.3</span>
        <span>代码实现</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#转换流">
        <span class="has-mr-6">9</span>
        <span>转换流</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#字符编码和字符集">
        <span class="has-mr-6">9.1</span>
        <span>字符编码和字符集</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#字符编码">
        <span class="has-mr-6">9.1.1</span>
        <span>字符编码</span>
        </a></li><li>
        <a class="is-flex" href="#字符集">
        <span class="has-mr-6">9.1.2</span>
        <span>字符集</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#编码引出的问题">
        <span class="has-mr-6">9.2</span>
        <span>编码引出的问题</span>
        </a></li><li>
        <a class="is-flex" href="#转换流图解">
        <span class="has-mr-6">9.3</span>
        <span>转换流图解</span>
        </a></li><li>
        <a class="is-flex" href="#InputStreamReader-类">
        <span class="has-mr-6">9.4</span>
        <span>InputStreamReader 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-7">
        <span class="has-mr-6">9.4.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#指定编码读取">
        <span class="has-mr-6">9.4.2</span>
        <span>指定编码读取</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#OutputStreamWriter-类">
        <span class="has-mr-6">9.5</span>
        <span>OutputStreamWriter 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-8">
        <span class="has-mr-6">9.5.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#指定编码写出">
        <span class="has-mr-6">9.5.2</span>
        <span>指定编码写出</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#练习：转换文件编码">
        <span class="has-mr-6">9.6</span>
        <span>练习：转换文件编码</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#序列化流">
        <span class="has-mr-6">10</span>
        <span>序列化流</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#ObjectOutputStream-类">
        <span class="has-mr-6">10.1</span>
        <span>ObjectOutputStream 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-9">
        <span class="has-mr-6">10.1.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#序列化操作">
        <span class="has-mr-6">10.1.2</span>
        <span>序列化操作</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#ObjectInputStream-类">
        <span class="has-mr-6">10.2</span>
        <span>ObjectInputStream 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-10">
        <span class="has-mr-6">10.2.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#反序列化操作一">
        <span class="has-mr-6">10.2.2</span>
        <span>反序列化操作一</span>
        </a></li><li>
        <a class="is-flex" href="#反序列化操作二">
        <span class="has-mr-6">10.2.3</span>
        <span>反序列化操作二</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#练习：序列化集合">
        <span class="has-mr-6">10.3</span>
        <span>练习：序列化集合</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#案例分析-1">
        <span class="has-mr-6">10.3.1</span>
        <span>案例分析</span>
        </a></li><li>
        <a class="is-flex" href="#代码实现-1">
        <span class="has-mr-6">10.3.2</span>
        <span>代码实现</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#打印流">
        <span class="has-mr-6">11</span>
        <span>打印流</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#打印流概述">
        <span class="has-mr-6">11.1</span>
        <span>打印流概述</span>
        </a></li><li>
        <a class="is-flex" href="#PrintStream-类">
        <span class="has-mr-6">11.2</span>
        <span>PrintStream 类</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#构造方法-11">
        <span class="has-mr-6">11.2.1</span>
        <span>构造方法</span>
        </a></li><li>
        <a class="is-flex" href="#改变打印流向">
        <span class="has-mr-6">11.2.2</span>
        <span>改变打印流向</span>
        </a></li></ul></li></ul></li></ul>
            </div>
        </div>
    </div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/C-python-Linux/">
            <span class="level-start">
                <span class="level-item">C-python-Linux</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Java%E5%AD%A6%E4%B9%A0/">
            <span class="level-start">
                <span class="level-item">Java学习</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">12</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86/">
            <span class="level-start">
                <span class="level-item">前端知识</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E5%A4%A7%E5%AD%A6-%E7%94%9F%E6%B4%BB-%E5%85%B6%E4%BB%96/">
            <span class="level-start">
                <span class="level-item">大学-生活-其他</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E6%95%99%E7%A8%8B%E5%B7%A5%E5%85%B7/">
            <span class="level-start">
                <span class="level-item">教程工具</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">
            <span class="level-start">
                <span class="level-item">数据库</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/">
            <span class="level-start">
                <span class="level-item">数据结构和算法</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
            <span class="level-start">
                <span class="level-item">计算机网络</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
    
        <div class="column-right-shadow  is-sticky">
        
            <div class="card widget">
	<div class="card-content">
		<h3 class="menu-label">我的歌单</h3>
		<div class="aplayer" data-id="1997628239" data-server="netease" data-type="playlist" data-mode="single"></div>
	</div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/AJAX/" style="font-size: 10px;">AJAX</a> <a href="/tags/CMD%E5%91%BD%E4%BB%A4/" style="font-size: 10px;">CMD命令</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/IDEA%E6%95%99%E7%A8%8B/" style="font-size: 10px;">IDEA教程</a> <a href="/tags/IO-%E6%B5%81/" style="font-size: 10px;">IO 流</a> <a href="/tags/JSON/" style="font-size: 10px;">JSON</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 16.67px;">Java基础</a> <a href="/tags/Java%E9%9B%86%E5%90%88/" style="font-size: 10px;">Java集合</a> <a href="/tags/Jenkins/" style="font-size: 10px;">Jenkins</a> <a href="/tags/Layui-%E5%8D%9A%E5%AE%A2/" style="font-size: 10px;">Layui 博客</a> <a href="/tags/LeetCode/" style="font-size: 10px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Oracle%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10px;">Oracle数据库</a> <a href="/tags/PL-SQL/" style="font-size: 10px;">PL/SQL</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SSM/" style="font-size: 10px;">SSM</a> <a href="/tags/Spring-Boot/" style="font-size: 13.33px;">Spring Boot</a> <a href="/tags/Vue/" style="font-size: 10px;">Vue</a> <a href="/tags/hello-world/" style="font-size: 10px;">hello world</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/icarus%E4%B8%BB%E9%A2%98/" style="font-size: 10px;">icarus主题</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/tags/windows%E6%95%99%E7%A8%8B/" style="font-size: 10px;">windows教程</a> <a href="/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">函数式编程</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" style="font-size: 10px;">博客搭建</a> <a href="/tags/%E5%8F%8D%E5%B0%84%E6%B3%A8%E8%A7%A3/" style="font-size: 10px;">反射注解</a> <a href="/tags/%E5%B8%B8%E7%94%A8-API/" style="font-size: 10px;">常用 API</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95/" style="font-size: 10px;">常用算法</a> <a href="/tags/%E6%95%85%E4%BA%8B/" style="font-size: 10px;">故事</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">网络编程</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 10px;">计算机网络</a>
    </div>
</div>
        
            <div class="card widget">
  <div class="card-content">
    <div class="menu">
      <h3 class="menu-label">
        订阅更新
      </h3>
      <div>
        <form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"
          onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=guoshizhanFeedsId', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">
          <input type="hidden" value="guoshizhanFeedsId" name="uri" />
          <input type="hidden" name="loc" value="en_US" />
          <div class="field">
            <div class="control has-icons-left">
              <input class="input" name="email" type="email" placeholder="请输入邮箱地址" />
              <span class="icon is-small is-left">
                <i class="fas fa-envelope"></i>
              </span>
            </div>
            <p class="help">立即订阅跳转人机认证后，点击完成按钮！</p>
          </div>
          <div class="field is-grouped is-grouped-right">
            <div class="control">
              <input class="button is-link is-rounded" type="submit" value="订阅">
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

        
        </div>
    
</div>

                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/GSZ's-Blog.png" alt="Java 中的 IO 流" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Java Developer&nbsp;
                Powered &#10084; ShiZhan·Guo
                </p>
            </div>    
            <script>
                (function(){
                    var bp = document.createElement('script');
                    var curProtocol = window.location.protocol.split(':')[0];
                    if (curProtocol === 'https') {
                        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
                    }
                    else {
                        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                    }
                    var s = document.getElementsByTagName("script")[0];
                    s.parentNode.insertBefore(bp, s);
                })();
            </script>

            <div align="center" id="access-number">
                <br>
                <script type="text/javascript" src="/js/statistics.js"></script>
                <span id="statistic-times"></span>
                <br>
                <div align="center">
                    <span class="busuanzi_container_site_pv">总访问量 
                        <b><span id="busuanzi_value_site_pv"></span></b> 次
                    </span>
                    <span class="busuanzi_container_site_uv">您是第  
                        <b><span id="busuanzi_value_site_uv"></b>
                        </span> 位小伙伴
                    </span>
                    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
                </div>
            </div>
            
            
            <!--<div id="earth">
                <span>
                <script type="text/javascript" src="//rf.revolvermaps.com/0/0/2.js?i=0xetp0d4rdh&m=7&s=130&c=00fff6&t=1" async="async"></script>
                </span>
            </div>-->


            <!--这个一个空的 div ，目的是让卜算子统计居中-->
            <div id="empty"></div>


            <script>
                (function(){
                    var bp = document.createElement('script');
                    bp.src = '//push.zhanzhang.baidu.com/push.js';
                    var s = document.getElementsByTagName("script")[0];
                    s.parentNode.insertBefore(bp, s);
                })();
            </script>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'https://guoshizhan.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
    
    <!--配置看板娘-->
    <script type="text/javascript" async="" src="/live2d/autoload.js"></script>

    <!--音乐js文件-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css">
    <script src="/js/APlayer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script>
</body>
</html>